<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoastCrave | Admin Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
    --deep-ocean: #0a1128;
    --ocean-blue: #1d4e89;
    --sea-teal: #00b4d8;
    --seafoam: #90e0ef;
    --coral: #ff6b6b;
    --gold: #ffd166;
    --sand: #f4e9cd;
    --light: #caf0f8;
    --dark: #03071e;
}

/* Font Implementation */
body {
     font-family: 'Poppins', 'Open Sans', sans-serif;
}

h1, h2, h3, h4, h5, h6,
.brand-text,
.admin-tab,
.notification-title,
.section-title,
.welcome-title,
.quick-action-card h3,
.recent-activity-container h2,
.sales-card h3,
.dashboard-card h4 {
    font-family: 'Poppins', sans-serif;
}

/* Responsive Edit/Delete Buttons for Tables */
#menuTab .edit-menu-item,
#menuTab .delete-menu-item,
#usersTab .edit-user,
#usersTab .delete-user {
    padding: 6px 10px;
    font-size: 0.75rem;
    margin: 2px 1px;
    border-radius: 4px;
    white-space: nowrap;
    min-width: 50px;
}

/* Stack buttons vertically on very small screens */
@media (max-width: 480px) {
    #menuTab .edit-menu-item,
    #menuTab .delete-menu-item,
    #usersTab .edit-user,
    #usersTab .delete-user {
        display: block;
        width: 100%;
        margin: 2px 0;
        text-align: center;
    }
    
    #menuTab td:last-child,
    #usersTab td:last-child {
        min-width: 110px;
    }
}

/* Responsive Table Actions Column */
#menuTab td:last-child,
#usersTab td:last-child {
    position: relative;
}

/* Mobile-friendly table layout */
@media (max-width: 768px) {
    /* Make tables scroll horizontally */
    .table-container {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    /* Reduce table font sizes */
    #menuTab table,
    #usersTab table {
        font-size: 0.8rem;
    }
    
    /* Reduce padding in table cells */
    #menuTab th,
    #menuTab td,
    #usersTab th,
    #usersTab td {
        padding: 8px 6px;
    }
    
    /* Hide less important columns on mobile */
    #menuTab th:nth-child(1), /* ID */
    #menuTab td:nth-child(1),
    #usersTab th:nth-child(1), /* ID */
    #usersTab td:nth-child(1),
    #usersTab th:nth-child(7), /* Registration Date */
    #usersTab td:nth-child(7) {
        display: none;
    }
    
    /* Make menu item images smaller */
    .menu-item-image {
        width: 40px;
        height: 40px;
    }
    
    /* Adjust button sizes */
    #menuTab .edit-menu-item,
    #menuTab .delete-menu-item,
    #usersTab .edit-user,
    #usersTab .delete-user {
        padding: 4px 8px;
        font-size: 0.7rem;
        margin: 1px;
    }
}

/* Extra small screen adjustments */
@media (max-width: 360px) {
    #menuTab .edit-menu-item,
    #menuTab .delete-menu-item,
    #usersTab .edit-user,
    #usersTab .delete-user {
        font-size: 0.65rem;
        padding: 3px 6px;
    }
    
    #menuTab th,
    #menuTab td,
    #usersTab th,
    #usersTab td {
        padding: 6px 4px;
    }
}

/* Responsive Modal Forms - FIXED CENTERING */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 2000;
    backdrop-filter: blur(5px);
    align-items: center;
    justify-content: center;
    padding: 20px;
    box-sizing: border-box;
}

.modal-content {
    background: #0a1128;
    padding: 1.5rem;
    border-radius: 10px;
    width: 90%;
    max-width: 450px;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow: 0 5px 30px rgba(0, 0, 0, 0.5);
    border: 1px solid #1d4e89;
    position: relative;
    margin: 0 auto;
}

@media (max-width: 480px) {
    .modal {
        padding: 10px;
        align-items: center;
    }
    
    .modal-content {
        width: 95%;
        margin: 0 auto;
        padding: 1rem;
    }
    
    /* Stack form buttons vertically on small screens */
    .modal-content .flex.justify-end.gap-3 {
        flex-direction: column;
        gap: 8px !important;
    }
    
    .modal-content .flex.justify-end.gap-3 button {
        width: 100%;
        margin: 0;
    }
    
    /* Adjust form input sizes for mobile */
    .form-control {
        font-size: 16px; /* Prevents zoom on iOS */
        padding: 12px 10px;
    }
    
    /* Reduce modal title size */
    .modal-content h2 {
        font-size: 1.25rem;
        margin-bottom: 1rem;
    }
}

/* Touch-friendly improvements */
.edit-menu-item,
.delete-menu-item,
.edit-user,
.delete-user,
.modal-btn,
.notification-btn {
    min-height: 32px;
    touch-action: manipulation; /* Remove delay on touch devices */
}

/* Ensure buttons are easily tappable on mobile */
@media (max-width: 768px) {
    .edit-menu-item,
    .delete-menu-item,
    .edit-user,
    .delete-user {
        min-height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
}

/* Responsive form layouts */
.form-group {
    margin-bottom: 1rem;
}

@media (max-width: 480px) {
    .form-group {
        margin-bottom: 0.75rem;
    }
    
    .form-group label {
        font-size: 0.9rem;
        margin-bottom: 0.25rem;
    }
}

/* Delete Confirmation Modal Styles - FIXED CENTERING */
#deleteMenuItemModal,
#deleteUserModal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 2000;
    backdrop-filter: blur(5px);
    align-items: center;
    justify-content: center;
    padding: 20px;
    box-sizing: border-box;
}

#deleteMenuItemModal .modal-content,
#deleteUserModal .modal-content {
    background: #1e293b;
    padding: 0;
    border-radius: 12px;
    width: 90%;
    max-width: 450px;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
    border: 1px solid #334155;
    position: relative;
    margin: auto;
    top: 50%;
    transform: translateY(-50%);
}

/* Delete modal header styling */
#deleteMenuItemModal .modal-header,
#deleteUserModal .modal-header {
    display: flex;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 1px solid #334155;
}

#deleteMenuItemModal .modal-icon,
#deleteUserModal .modal-icon {
    font-size: 1.5rem;
    margin-right: 12px;
    flex-shrink: 0;
    color: #ef476f;
}

#deleteMenuItemModal .modal-title,
#deleteUserModal .modal-title {
    font-weight: bold;
    font-size: 1.1rem;
    color: #f8fafc;
}

/* Delete modal body styling */
#deleteMenuItemModal .modal-body,
#deleteUserModal .modal-body {
    padding: 20px;
}

#deleteMenuItemModal .modal-message,
#deleteUserModal .modal-message {
    margin-bottom: 16px;
    color: #cbd5e1;
    line-height: 1.5;
}

#deleteMenuItemModal .modal-actions,
#deleteUserModal .modal-actions {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
}

#deleteMenuItemModal .modal-btn,
#deleteUserModal .modal-btn {
    padding: 8px 16px;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.9rem;
    border: none;
}

#deleteMenuItemModal .modal-btn-primary,
#deleteUserModal .modal-btn-primary {
    background: #ef476f;
    color: white;
}

#deleteMenuItemModal .modal-btn-primary:hover,
#deleteUserModal .modal-btn-primary:hover {
    background: #d43d63;
}

#deleteMenuItemModal .modal-btn-secondary,
#deleteUserModal .modal-btn-secondary {
    background: transparent;
    color: #00b4d8;
    border: 1px solid #00b4d8;
}

#deleteMenuItemModal .modal-btn-secondary:hover,
#deleteUserModal .modal-btn-secondary:hover {
    background: rgba(0, 180, 216, 0.1);
}

#deleteMenuItemModal .modal-close,
#deleteUserModal .modal-close {
    position: absolute;
    top: 12px;
    right: 12px;
    background: none;
    border: none;
    color: #94a3b8;
    font-size: 1.2rem;
    cursor: pointer;
    transition: color 0.3s ease;
}

#deleteMenuItemModal .modal-close:hover,
#deleteUserModal .modal-close:hover {
    color: #f8fafc;
}

/* Responsive styles for delete modals */
@media (max-width: 768px) {
    #deleteMenuItemModal,
    #deleteUserModal {
        padding: 10px;
    }
    
    #deleteMenuItemModal .modal-content,
    #deleteUserModal .modal-content {
        width: 95%;
        margin: auto;
        top: 50%;
        transform: translateY(-50%);
    }
    
    #deleteMenuItemModal .modal-body,
    #deleteUserModal .modal-body {
        padding: 16px;
    }
    
    #deleteMenuItemModal .modal-actions,
    #deleteUserModal .modal-actions {
        flex-direction: column;
        gap: 10px;
    }
    
    #deleteMenuItemModal .modal-btn,
    #deleteUserModal .modal-btn {
        width: 100%;
    }
}

@media (max-width: 480px) {
    #deleteMenuItemModal .modal-content,
    #deleteUserModal .modal-content {
        width: 98%;
    }
    
    #deleteMenuItemModal .modal-body,
    #deleteUserModal .modal-body {
        padding: 12px;
    }
}

/* Delete confirmation modal responsiveness */
#deleteMenuItemModal .modal-actions,
#deleteUserModal .modal-actions {
    display: flex;
    gap: 10px;
}

@media (max-width: 480px) {
    #deleteMenuItemModal .modal-actions,
    #deleteUserModal .modal-actions {
        flex-direction: column;
        gap: 8px;
    }
    
    #deleteMenuItemModal .modal-btn,
    #deleteUserModal .modal-btn {
        width: 100%;
        margin: 0;
    }
}

/* Improve modal scrolling on mobile */
.modal-content {
    -webkit-overflow-scrolling: touch;
}

/* Ensure modals are centered properly on all screens */
.modal {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

@media (max-width: 480px) {
    .modal {
        padding: 10px;
        align-items: center;
    }
    
    .modal-content {
        margin: 0 auto;
    }
}

/* Button icon adjustments for mobile */
@media (max-width: 768px) {
    /* Hide button text, show only icons on very small screens */
    @media (max-width: 360px) {
        .edit-menu-item,
        .delete-menu-item,
        .edit-user,
        .delete-user {
            min-width: 32px;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .edit-menu-item::after,
        .delete-menu-item::after,
        .edit-user::after,
        .delete-user::after {
            content: '';
            font-size: 0;
        }
        
        .edit-menu-item i,
        .delete-menu-item i,
        .edit-user i,
        .delete-user i {
            margin: 0;
            font-size: 0.8rem;
        }
    }
}

/* Table row hover effects for better touch indication */
@media (max-width: 768px) {
    #menuTab tr,
    #usersTab tr {
        border-bottom: 1px solid #334155;
    }
    
    #menuTab tr:active,
    #usersTab tr:active {
        background-color: rgba(0, 180, 216, 0.1);
    }
}

/* Fix for Add/Edit Menu Item and User Modals - CENTERED */
#addMenuItemModal,
#editMenuItemModal,
#addUserModal,
#editUserModal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 2000;
    backdrop-filter: blur(5px);
    align-items: center;
    justify-content: center;
    padding: 20px;
    box-sizing: border-box;
}

#addMenuItemModal .modal-content,
#editMenuItemModal .modal-content,
#addUserModal .modal-content,
#editUserModal .modal-content {
    background: #0a1128;
    padding: 1.5rem;
    border-radius: 10px;
    width: 90%;
    max-width: 450px;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow: 0 5px 30px rgba(0, 0, 0, 0.5);
    border: 1px solid #1d4e89;
    position: relative;
    margin: auto;
    top: 50%;
    transform: translateY(-50%);
}

/* Ensure close buttons work properly */
#addMenuItemModal .close-modal,
#editMenuItemModal .close-modal,
#addUserModal .close-modal,
#editUserModal .close-modal {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 1.5rem;
    color: #caf0f8;
    cursor: pointer;
    transition: color 0.3s ease;
    z-index: 10;
}

#addMenuItemModal .close-modal:hover,
#editMenuItemModal .close-modal:hover,
#addUserModal .close-modal:hover,
#editUserModal .close-modal:hover {
    color: #ff6b6b;
}

/* Form styling for these modals */
#addMenuItemModal form,
#editMenuItemModal form,
#addUserModal form,
#editUserModal form {
    margin-top: 1rem;
}

/* Responsive adjustments for form modals */
@media (max-width: 768px) {
    #addMenuItemModal,
    #editMenuItemModal,
    #addUserModal,
    #editUserModal {
        padding: 10px;
    }
    
    #addMenuItemModal .modal-content,
    #editMenuItemModal .modal-content,
    #addUserModal .modal-content,
    #editUserModal .modal-content {
        width: 95%;
        margin: auto;
        top: 50%;
        transform: translateY(-50%);
        padding: 1rem;
    }
    
    /* Stack form buttons vertically on small screens */
    #addMenuItemModal .flex.justify-end.gap-3,
    #editMenuItemModal .flex.justify-end.gap-3,
    #addUserModal .flex.justify-end.gap-3,
    #editUserModal .flex.justify-end.gap-3 {
        flex-direction: column;
        gap: 8px !important;
    }
    
    #addMenuItemModal .flex.justify-end.gap-3 button,
    #editMenuItemModal .flex.justify-end.gap-3 button,
    #addUserModal .flex.justify-end.gap-3 button,
    #editUserModal .flex.justify-end.gap-3 button {
        width: 100%;
        margin: 0;
    }
}

@media (max-width: 480px) {
    #addMenuItemModal .modal-content,
    #editMenuItemModal .modal-content,
    #addUserModal .modal-content,
    #editUserModal .modal-content {
        width: 98%;
    }
    
    #addMenuItemModal h2,
    #editMenuItemModal h2,
    #addUserModal h2,
    #editUserModal h2 {
        font-size: 1.25rem;
        margin-bottom: 1rem;
    }
    
    .form-control {
        font-size: 16px; /* Prevents zoom on iOS */
        padding: 12px 10px;
    }
}

/* Form group spacing for these modals */
#addMenuItemModal .form-group,
#editMenuItemModal .form-group,
#addUserModal .form-group,
#editUserModal .form-group {
    margin-bottom: 1rem;
}

@media (max-width: 480px) {
    #addMenuItemModal .form-group,
    #editMenuItemModal .form-group,
    #addUserModal .form-group,
    #editUserModal .form-group {
        margin-bottom: 0.75rem;
    }
    
    #addMenuItemModal .form-group label,
    #editMenuItemModal .form-group label,
    #addUserModal .form-group label,
    #editUserModal .form-group label {
        font-size: 0.9rem;
        margin-bottom: 0.25rem;
    }
}

/* Ensure modal content is scrollable on small screens */
#addMenuItemModal .modal-content,
#editMenuItemModal .modal-content,
#addUserModal .modal-content,
#editUserModal .modal-content {
    -webkit-overflow-scrolling: touch;
}

/* Fix for textarea in forms */
#addMenuItemModal textarea,
#editMenuItemModal textarea,
#addUserModal textarea,
#editUserModal textarea {
    resize: vertical;
    min-height: 80px;
}

/* Button styling for form modals */
#addMenuItemModal button[type="submit"],
#editMenuItemModal button[type="submit"],
#addUserModal button[type="submit"],
#editUserModal button[type="submit"] {
    background: #00b4d8;
    color: #0a1128;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.3s ease;
}

#addMenuItemModal button[type="submit"]:hover,
#editMenuItemModal button[type="submit"]:hover,
#addUserModal button[type="submit"]:hover,
#editUserModal button[type="submit"]:hover {
    background: #0096c7;
}

#addMenuItemModal button[type="button"],
#editMenuItemModal button[type="button"],
#addUserModal button[type="button"],
#editUserModal button[type="button"] {
    background: #4b5563;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.3s ease;
}

#addMenuItemModal button[type="button"]:hover,
#editMenuItemModal button[type="button"]:hover,
#addUserModal button[type="button"]:hover,
#editUserModal button[type="button"]:hover {
    background: #374151;
}
/* Add this to your existing CSS */
.modal-content button[type="button"] {
    font-size: 0.8rem !important;
}

/* Specifically target cancel buttons in modals */
#addMenuItemModal .bg-gray-600,
#editMenuItemModal .bg-gray-600,
#addUserModal .bg-gray-600,
#editUserModal .bg-gray-600 {
    font-size: 0.8rem !important;
}

/* Alternative approach - target by class */
.close-modal.bg-gray-600 {
    font-size: 0.8rem !important;
}

#logoutNotification .notification-icon {
    color: #ef4444;
}

#logoutNotification .notification-title {
    color: #ef4444;
}

/* Success Notification - BIGGER VERSION */
        #successNotification {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 9999;
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        #successNotification.show {
            opacity: 1;
            visibility: visible;
        }

        #successNotification .notification {
            background: linear-gradient(135deg, #1e293b, #0f172a);
            border-radius: 16px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            border: 1px solid #334155;
            width: 90%;
            max-width: 400px; /* Increased from 450px */
            max-height: 85vh;
            overflow-y: auto;
            transform: scale(0.8);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        #successNotification.show .notification {
            transform: scale(1);
        }

        #successNotification .notification-header {
            display: flex;
            align-items: center;
            padding: 20px 24px; /* Increased padding */
            border-bottom: 1px solid #334155;
        }

        #successNotification .notification-icon {
            font-size: 2.5rem; /* Increased from 1.5rem */
            margin-right: 16px; /* Increased from 12px */
            flex-shrink: 0;
            color: #22c55e;
        }

        #successNotification .notification-title {
            font-weight: bold;
            font-size: 1.3rem; /* Increased from 1.1rem */
            color: #f8fafc;
        }

        #successNotification .notification-body {
            padding: 28px; /* Increased from 20px */
        }

        #successNotification .notification-message {
            margin-bottom: 24px; /* Increased from 16px */
            color: #cbd5e1;
            line-height: 1.6;
            font-size: 1.1rem; /* Added font size */
        }

        #successNotification .notification-actions {
            display: flex;
            gap: 12px; /* Increased from 10px */
            justify-content: flex-end;
        }

        #successNotification .notification-btn {
            padding: 12px 24px; /* Increased from 8px 16px */
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem; /* Increased from 0.9rem */
            border: none;
        }

        #successNotification .notification-btn-primary {
            background: #00b4d8;
            color: #0f172a;
        }

        #successNotification .notification-btn-primary:hover {
            background: #0096c7;
        }

        #successNotification .notification-close {
            position: absolute;
            top: 16px; /* Increased from 12px */
            right: 16px; /* Increased from 12px */
            background: none;
            border: none;
            color: #94a3b8;
            font-size: 1.5rem; /* Increased from 1.2rem */
            cursor: pointer;
            transition: color 0.3s ease;
        }

        #successNotification .notification-close:hover {
            color: #f8fafc;
        }

        /* Responsive styles for the bigger success notification */
        @media (max-width: 768px) {
            #successNotification .notification {
                width: 95%;
                max-width: 450px;
            }
            
            #successNotification .notification-header {
                padding: 20px 24px;
            }
            
            #successNotification .notification-icon {
                font-size: 2rem;
            }
            
            #successNotification .notification-title {
                font-size: 1.3rem;
            }
            
            #successNotification .notification-body {
                padding: 24px;
            }
            
            #successNotification .notification-message {
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            #successNotification .notification {
                width: 98%;
            }
            
            #successNotification .notification-header {
                padding: 16px 20px;
            }
            
            #successNotification .notification-icon {
                font-size: 1.8rem;
            }
            
            #successNotification .notification-title {
                font-size: 1.2rem;
            }
            
            #successNotification .notification-body {
                padding: 20px;
            }
            
            #successNotification .notification-actions {
                flex-direction: column;
                gap: 10px;
            }
            
            #successNotification .notification-btn {
                width: 100%;
            }
        }

/* Reduce font size for menu table headers and cells */
#menuTab th {
    font-size: 0.875rem;
}

#menuTab td {
    font-size: 0.85rem;
}

/* Make menu item names slightly smaller but still readable */
#menuTab .font-semibold {
    font-size: 0.9rem;
}

/* Recent activity font size adjustments */
.recent-activity-container {
    font-size: 0.9rem;
}

.activity-item {
    font-size: 0.875rem;
}

.activity-content p {
    font-size: 0.875rem;
    margin-bottom: 2px;
}

.activity-time {
    font-size: 0.7rem;
}

/* Activity icon size */
.activity-icon {
    font-size: 1rem;
    width: 36px;
    height: 36px;
}

/* Users table specific styling */
#adminUsers tr {
    font-size: 0.85rem;
}

#adminUsers th {
    font-size: 0.875rem;
    font-weight: 600;
}

/* Reduce button text size in users table */
#usersTab .edit-user,
#usersTab .delete-user {
    font-size: 0.8rem;
    padding: 4px 8px;
}

/* Adjust status badges */
#usersTab .status-badge {
    font-size: 0.7rem;
    padding: 3px 8px;
}

/* UPDATED: Centered Notification Styles - FIXED FOR ALL SCREENS */
.notification-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 9999;
    backdrop-filter: blur(5px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    box-sizing: border-box;
    opacity: 0;
    visibility: hidden;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.notification-container.show {
    opacity: 1;
    visibility: visible;
}

.notification {
    background: linear-gradient(135deg, #1e293b, #0f172a);
    border-radius: 12px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
    overflow: hidden;
    border: 1px solid #334155;
    width: 90%;
    max-width: 450px;
    max-height: 85vh;
    overflow-y: auto;
    transform: scale(0.8);
    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.notification-container.show .notification {
    transform: scale(1);
}

.notification-header {
    display: flex;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 1px solid #334155;
}

.notification-icon {
    font-size: 1.5rem;
    margin-right: 12px;
    flex-shrink: 0;
}

.notification-title {
    font-weight: bold;
    font-size: 1.1rem;
    color: #f8fafc;
}

.notification-body {
    padding: 20px;
}

.notification-message {
    margin-bottom: 16px;
    color: #cbd5e1;
    line-height: 1.5;
}

.notification-actions {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
}

.notification-btn {
    padding: 8px 16px;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.9rem;
    border: none;
}

.notification-btn-primary {
    background: #00b4d8;
    color: #0f172a;
}

.notification-btn-primary:hover {
    background: #0096c7;
}

.notification-btn-secondary {
    background: transparent;
    color: #00b4d8;
    border: 1px solid #00b4d8;
}

.notification-btn-secondary:hover {
    background: rgba(0, 180, 216, 0.1);
}

.notification-close {
    position: absolute;
    top: 12px;
    right: 12px;
    background: none;
    border: none;
    color: #94a3b8;
    font-size: 1.2rem;
    cursor: pointer;
    transition: color 0.3s ease;
}

.notification-close:hover {
    color: #f8fafc;
}

/* Logout notification specific styles */
#logoutNotification .notification-icon {
    color: #ef4444;
}

#logoutNotification .notification-title {
    color: #ef4444;
}

/* Responsive styles for notifications */
@media (max-width: 768px) {
    .notification-container {
        padding: 10px;
    }
    
    .notification {
        width: 95%;
        margin: 0 auto;
    }
    
    .notification-actions {
        flex-direction: column;
        gap: 8px;
    }
    
    .notification-btn {
        width: 100%;
    }
}

@media (max-width: 480px) {
    .notification {
        width: 98%;
    }
    
    .notification-body {
        padding: 16px;
    }
}

.notification-message {
    margin-bottom: 16px;
    color: #cbd5e1;
    line-height: 1.5;
}

.notification-actions {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
}

.notification-btn {
    padding: 8px 16px;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.9rem;
    border: none;
}

.notification-btn-primary {
    background: #00b4d8;
    color: #0f172a;
}

.notification-btn-primary:hover {
    background: #0096c7;
}

.notification-btn-secondary {
    background: transparent;
    color: #00b4d8;
    border: 1px solid #00b4d8;
}

.notification-btn-secondary:hover {
    background: rgba(0, 180, 216, 0.1);
}

.notification-close {
    position: absolute;
    top: 12px;
    right: 12px;
    background: none;
    border: none;
    color: #94a3b8;
    font-size: 1.2rem;
    cursor: pointer;
    transition: color 0.3s ease;
}

.notification-close:hover {
    color: #f8fafc;
}

/* Chart container hover effects */
.dashboard-card {
    background: linear-gradient(145deg, #1e293b, #0f172a);
    border: 1px solid #334155;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.dashboard-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, transparent, rgba(0, 180, 216, 0.1), transparent);
    transform: translateX(-100%);
    transition: transform 0.6s;
}

.dashboard-card:hover::before {
    transform: translateX(100%);
}

.dashboard-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
    border-color: var(--sea-teal);
}

/* Sales card hover effects */
.sales-card {
    background: linear-gradient(145deg, #1e293b, #0f172a);
    border: 1px solid #334155;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.sales-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, transparent, rgba(0, 180, 216, 0.1), transparent);
    transform: translateX(-100%);
    transition: transform 0.6s;
}

.sales-card:hover::before {
    transform: translateX(100%);
}

.sales-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
    border-color: var(--sea-teal);
}

/* Ensure charts fit containers properly */
.chart-container canvas {
    width: 100% !important;
    height: 100% !important;
}

/* Fix chart responsiveness */
.dashboard-card .chart-container,
.sales-card .chart-container {
    min-height: 250px;
    position: relative;
}

/* Chart title styling to match your theme */
.dashboard-card h4,
.sales-card h3 {
    color: #00b4d8;
    font-weight: 600;
    margin-bottom: 1rem;
    position: relative;
    z-index: 2;
}

.dashboard-card {
    background: rgba(29, 78, 137, 0.2);
    border: 1px solid #1d4e89;
    border-radius: 10px;
    padding: 1.5rem;
    transition: all 0.3s ease;
}

.dashboard-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 180, 216, 0.2);
}

.order-status {
    padding: 5px 10px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: bold;
}

.status-active {
    background: rgba(40, 167, 69, 0.2);
    color: #28a745;
}

.status-inactive {
    background: rgba(108, 117, 125, 0.2);
    color: #6c757d;
}

.form-control {
    width: 100%;
    padding: 10px 12px;
    background: rgba(29, 78, 137, 0.3);
    border: 1px solid #1d4e89;
    border-radius: 5px;
    color: white;
    font-size: 0.9rem;
    transition: border 0.3s ease;
}

.form-control:focus {
    outline: none;
    border-color: #00b4d8;
}

/* MODAL STYLES - FIXED CENTERING */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 2000;
    backdrop-filter: blur(5px);
    align-items: center;
    justify-content: center;
    padding: 20px;
    box-sizing: border-box;
}

.modal-content {
    background: #0a1128;
    padding: 1.5rem;
    border-radius: 10px;
    width: 90%;
    max-width: 450px;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow: 0 5px 30px rgba(0, 0, 0, 0.5);
    border: 1px solid #1d4e89;
    position: relative;
    margin: 0 auto;
}

.close-modal {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 1.5rem;
    color: #caf0f8;
    cursor: pointer;
    transition: color 0.3s ease;
}

.close-modal:hover {
    color: #ff6b6b;
}

/* Make the close button in the top-right corner */
.modal-content .close-modal {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 1.5rem;
    color: #caf0f8;
    cursor: pointer;
    transition: color 0.3s ease;
    background: none;
    border: none;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
}

.modal-content .close-modal:hover {
    background: rgba(255, 107, 107, 0.2);
    color: #ff6b6b;
}

/* Remove the cancel button from the form and rely only on the X */
.modal-content .bg-gray-600 {
    display: none;
}

/* Adjust the submit button to take full width */
.modal-content .bg-cyan-400 {
    width: 100%;
    margin: 0;
}
.admin-tab {
    cursor: pointer;
    transition: all 0.3s ease;
}

.admin-tab.active {
    border-bottom: 2px solid #00b4d8;
    color: #00b4d8;
}

/* Dropdown styles */
.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    right: 0;
    background-color: #1e293b;
    min-width: 200px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 100;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid #334155;
}

.dropdown-content a, .dropdown-content .user-info {
    color: white;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
    transition: background-color 0.3s;
}

.dropdown-content .user-info {
    background-color: #334155;
    border-bottom: 1px solid #475569;
    cursor: default;
}

.dropdown-content .user-info:hover {
    background-color: #334155;
}

.dropdown-content a:hover {
    background-color: #334155;
}

.dropdown:hover .dropdown-content {
    display: block;
}

.dropdown-btn {
    background-color: transparent;
    border: 2px solid #22d3ee;
    color: #22d3ee;
    padding: 8px 16px;
    border-radius: 20px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 8px;
}

.dropdown-btn:hover {
    background-color: #22d3ee;
    color: #0f172a;
}

/* Menu item image styling */
.menu-item-image {
    width: 60px;
    height: 60px;
    object-fit: cover;
    border-radius: 8px;
    border: 1px solid #1d4e89;
}

/* Filter buttons */
.filter-btn {
    padding: 6px 12px;
    background: rgba(29, 78, 137, 0.3);
    border: 1px solid #1d4e89;
    border-radius: 20px;
    color: white;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 0.85rem;
}

.filter-btn.active, .filter-btn:hover {
    background: #00b4d8;
    color: #0a1128;
}

/* Form group spacing */
.form-group {
    margin-bottom: 1rem;
}

/* Hidden utility class */
.hidden {
    display: none;
}

/* Status badges for analytics */
.status-badge {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
}

.status-pending {
    background-color: rgba(255, 209, 102, 0.2);
    color: #ffd166;
}

.status-confirmed {
    background-color: rgba(59, 130, 246, 0.2);
    color: #3b82f6;
}

.status-preparing {
    background-color: rgba(0, 180, 216, 0.2);
    color: #00b4d8;
}

.status-out-for-delivery {
    background-color: rgba(249, 115, 22, 0.2);
    color: #f97316;
}

.status-delivered {
    background-color: rgba(34, 197, 94, 0.2);
    color: #22c55e;
}

.status-cancelled {
    background-color: rgba(239, 71, 111, 0.2);
    color: #ef476f;
}

/* Role badges */
.role-admin {
    background-color: rgba(239, 71, 111, 0.2);
    color: #ef476f;
}

.role-staff {
    background-color: rgba(0, 180, 216, 0.2);
    color: #00b4d8;
}

.role-customer {
    background-color: rgba(59, 130, 246, 0.2);
    color: #3b82f6;
}

/* Logo styles */
.logo-img {
    width: 70px;
    height: 60px;
    object-fit: contain;
    border-radius: 8px;
}

/* Search and Filter Bar Styles */
.search-filter-container {
    background: #1e293b;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 24px;
    border: 1px solid #334155;
}

.search-bar {
    position: relative;
    margin-bottom: 16px;
}

.search-input {
    width: 100%;
    padding: 12px 16px 12px 44px;
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 8px;
    color: white;
    font-size: 1rem;
    transition: all 0.3s;
}

.search-input:focus {
    outline: none;
    border-color: #00b4d8;
    box-shadow: 0 0 0 3px rgba(0, 180, 216, 0.2);
}

.search-icon {
    position: absolute;
    left: 16px;
    top: 50%;
    transform: translateY(-50%);
    color: #64748b;
}

.filter-row {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    align-items: center;
}

.clear-filters-btn {
    padding: 8px 16px;
    background: transparent;
    border: 1px solid #ef476f;
    border-radius: 6px;
    color: #ef476f;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 0.875rem;
    margin-left: auto;
}

.clear-filters-btn:hover {
    background: #ef476f;
    color: white;
}

/* Interactive elements */
.interactive-card {
    transition: all 0.3s ease;
    background: linear-gradient(145deg, #1e293b, #0f172a);
    border: 1px solid #334155;
    position: relative;
    overflow: hidden;
}

.interactive-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, transparent, rgba(0, 180, 216, 0.1), transparent);
    transform: translateX(-100%);
    transition: transform 0.6s;
}

.interactive-card:hover::before {
    transform: translateX(100%);
}

.interactive-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
    border-color: var(--sea-teal);
}

/* Mobile responsive improvements */
@media (max-width: 768px) {
    .header-container {
        padding: 0 16px;
    }
    
    .user-actions {
        gap: 12px;
    }
    
    .dropdown-btn span {
        display: none;
    }
    
    .admin-indicator {
        font-size: 0.7rem;
        padding: 3px 6px;
    }
    
    .stats-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    
    .filter-buttons {
        overflow-x: auto;
        padding-bottom: 8px;
    }
    
    .filter-buttons-container {
        flex-wrap: nowrap;
        justify-content: flex-start;
    }
    
    .table-container {
        overflow-x: auto;
    }
    
    .modal {
        padding: 10px;
    }
    
    .modal-content {
        margin: 0 auto;
        width: 95%;
        max-width: none;
    }
    
    .logo-img {
        width: 32px;
        height: 32px;
    }
    
    .brand-text {
        font-size: 1.25rem;
    }

    .filter-row {
        flex-direction: column;
        align-items: stretch;
    }

    .clear-filters-btn {
        margin-left: 0;
        margin-top: 8px;
    }
    
    /* Fix modal positioning for small screens */
    .modal {
        align-items: center;
    }
    
    .modal-content {
        width: 95%;
        max-width: 400px;
        max-height: 80vh;
        overflow-y: auto;
    }
    
    /* Fix form elements for small screens */
    .form-control {
        font-size: 16px; /* Prevents zoom on iOS */
    }
    
    /* Improve button sizing */
    .notification-btn {
        padding: 10px 16px;
        font-size: 1rem;
    }
    
    /* Adjust table layout for small screens */
    #menuTab table, #usersTab table {
        font-size: 0.8rem;
    }
    
    .menu-item-image {
        width: 40px;
        height: 40px;
    }
}

@media (max-width: 480px) {
    .stats-grid {
        grid-template-columns: 1fr !important;
    }
    
    .brand-text {
        font-size: 1.1rem;
    }
    
    .admin-indicator {
        font-size: 0.65rem;
        padding: 2px 4px;
    }
    
    .dropdown-btn {
        padding: 6px 10px;
    }
    
    .modal-content {
        padding: 1rem;
    }
    
    .quick-actions-container {
        grid-template-columns: 1fr;
    }
    
    .notification-container {
        width: 95%;
    }
}

/* Quick Actions Styles */
.quick-actions-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
}

.quick-action-card {
    background: linear-gradient(135deg, #1d4e89, #00b4d8);
    border-radius: 12px;
    padding: 20px;
    transition: all 0.3s ease;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    min-height: 120px;
}

.quick-action-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 180, 216, 0.3);
}

.quick-action-icon {
    font-size: 2rem;
    margin-bottom: 10px;
}

/* Recent Activity Styles */
.recent-activity-container {
    background: #1e293b;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 24px;
    border: 1px solid #334155;
}

.activity-item {
    display: flex;
    align-items: center;
    padding: 12px 0;
    border-bottom: 1px solid #334155;
}

.activity-item:last-child {
    border-bottom: none;
}

.activity-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 12px;
    font-size: 1.2rem;
}

.activity-content {
    flex: 1;
}

.activity-time {
    font-size: 0.8rem;
    color: #94a3b8;
}

/* Welcome Message Styles */
.welcome-container {
    background: linear-gradient(135deg, #1d4e89, #00b4d8);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 24px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    position: relative;
    overflow: hidden;
}

.welcome-container::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
    transform: rotate(30deg);
}

.welcome-title {
    font-size: 1.75rem;
    font-weight: 700;
    margin-bottom: 8px;
    color: white;
}

.welcome-subtitle {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.9);
    max-width: 600px;
}

/* Sales Overview Styles */
.sales-overview-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
}

.sales-card {
    background: #1e293b;
    border-radius: 12px;
    padding: 20px;
    border: 1px solid #334155;
}

.sales-card h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 16px;
    color: #00b4d8;
}

/* Section Title Styles */
.section-title:after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    height: 4px;
    background: var(--sea-teal);
    border-radius: 2px;
}

/* Chart container styles */
.chart-container {
    position: relative;
    height: 250px;
    width: 100%;
}

/* Smooth scrolling */
html {
    scroll-behavior: smooth;
}
 /* Footer - Exact same size as header */
        footer {
            padding: 1rem 0 !important;
            min-height: 80px !important;
            display: flex;
            align-items: center;
        }

        footer .container {
            padding-top: 0 !important;
            padding-bottom: 0 !important;
        }

        footer .border-t {
            margin-top: 0 !important;
            padding-top: 0 !important;
            border: none !important;
        }

        /* Remove all extra spacing and borders */
        footer .border-t.border-gray-700 {
            border: none !important;
            margin: 0 !important;
            padding: 0 !important;
        }

        /* Make footer text match header text size */
        footer p {
            font-size: 1rem !important;
            margin-bottom: 0 !important;
            padding: 0 !important;
        }

        /* Match header's border styling */
        footer.border-t {
            border-top: 1px solid #1e40af !important; /* Same as header's border-blue-800 */
        }

        /* Exact header matching */
        footer.bg-gray-900 {
            height: 88px !important; /* Match header height including padding */
            display: flex;
            align-items: center;
        }

        /* Mobile responsiveness - match header exactly */
        @media (max-width: 768px) {
            footer {
                padding: 0.75rem 0 !important;
                min-height: 72px !important;
            }
            
            footer.bg-gray-900 {
                height: 72px !important;
            }
        }

        @media (max-width: 480px) {
            footer {
                padding: 0.5rem 0 !important;
                min-height: 64px !important;
            }
            
            footer.bg-gray-900 {
                height: 64px !important;
            }
            
            footer p {
                font-size: 0.9rem !important;
            }
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
    <!-- Success Notification -->
   <!-- Success Notification - SIMPLE VERSION -->
<div id="successNotification">
    <div class="notification">
        <button class="notification-close">&times;</button>
        <div class="notification-header">
            <div class="notification-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="notification-title">Success!</div>
        </div>
        <div class="notification-body">
            <div class="notification-message" id="successNotificationMessage">
                Operation completed successfully.
            </div>
            <div class="notification-actions">
                <button class="notification-btn" id="successNotificationOkBtn">OK</button>
            </div>
        </div>
    </div>
</div>

    <!-- Logout Confirmation Notification -->
    <div id="logoutNotification" class="notification-container">
        <div class="notification">
            <button class="notification-close">&times;</button>
            <div class="notification-header">
                <div class="notification-icon">
                    <i class="fas fa-sign-out-alt"></i>
                </div>
                <div class="notification-title">Confirm Logout</div>
            </div>
            <div class="notification-body">
                <div class="notification-message">
                    Are you sure you want to logout from the admin dashboard?
                </div>
                <div class="notification-actions">
                    <button class="notification-btn notification-btn-secondary" id="logoutCancelBtn">Cancel</button>
                    <button class="notification-btn notification-btn-primary" id="logoutConfirmBtn">Logout</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Menu Item Confirmation Modal -->
<div id="deleteMenuItemModal" class="modal">
    <div class="modal-content">
        <button class="modal-close">&times;</button>
        <div class="modal-header">
            <div class="modal-icon">
                <i class="fas fa-trash-alt"></i>
            </div>
            <div class="modal-title">Delete Menu Item</div>
        </div>
        <div class="modal-body">
            <div class="modal-message" id="deleteMenuItemMessage">
                Are you sure you want to delete this menu item? This action cannot be undone.
            </div>
            <div class="modal-actions">
                <button class="modal-btn modal-btn-secondary" id="deleteMenuItemCancelBtn">Cancel</button>
                <button class="modal-btn modal-btn-primary" id="deleteMenuItemConfirmBtn">Delete</button>
            </div>
        </div>
    </div>
</div>

<!-- Delete User Confirmation Modal -->
<div id="deleteUserModal" class="modal">
    <div class="modal-content">
        <button class="modal-close">&times;</button>
        <div class="modal-header">
            <div class="modal-icon">
                <i class="fas fa-trash-alt"></i>
            </div>
            <div class="modal-title">Delete User</div>
        </div>
        <div class="modal-body">
            <div class="modal-message" id="deleteUserMessage">
                Are you sure you want to delete this user? This action cannot be undone.
            </div>
            <div class="modal-actions">
                <button class="modal-btn modal-btn-secondary" id="deleteUserCancelBtn">Cancel</button>
                <button class="modal-btn modal-btn-primary" id="deleteUserConfirmBtn">Delete</button>
            </div>
        </div>
    </div>
</div>

    <!-- Admin Dashboard Header -->
    <header class="fixed w-full top-0 z-50 bg-gray-900 bg-opacity-95 shadow-lg border-b border-blue-800">
        <div class="container mx-auto px-4 header-container">
            <nav class="flex justify-between items-center py-4">
                <a href="admin.html" class="flex items-center text-2xl font-bold text-cyan-400" id="adminLogoLink">
    <!-- Replaceable Logo Image -->
    <img src="Gemini_Generated_Image_642upx642upx642u__1_-removebg-preview.png" alt="CoastCrave Logo" class="logo-img mr-2">
    <span class="brand-text">CoastCrave</span>
</a>
                
                <div class="flex items-center gap-4 user-actions">
                    <!-- Admin Dashboard Indicator -->
                    <div class="admin-indicator bg-cyan-800 px-3 py-1 rounded-full text-sm font-semibold">
                        <i class="fas fa-user-shield mr-1"></i> Admin
                    </div>
                    
                    <!-- Dropdown for Admin User -->
                    <div class="dropdown">
                        <button class="dropdown-btn">
                            <i class="fas fa-user-shield"></i>
                            <span id="currentUserName">Admin User</span>
                            <i class="fas fa-chevron-down text-xs"></i>
                        </button>
                        <div class="dropdown-content">
                            <div class="user-info">
                                <div class="font-semibold text-cyan-300" id="dropdownUserName">Admin User</div>
                                <div class="text-sm text-gray-300" id="dropdownUserEmail">admin@coastcrave.com</div>
                                <div class="text-xs text-cyan-400 mt-1" id="dropdownUserRole">Administrator</div>
                            </div>
                            <a href="#" id="logoutBtn">
                                <i class="fas fa-sign-out-alt mr-2"></i>
                                Logout
                            </a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Admin Dashboard -->
    <section class="pt-24 pb-12 bg-gradient-to-b from-gray-900 to-gray-800 min-h-screen">
        <div class="container mx-auto px-4">
            <!-- Dashboard Header -->
            <div class="mb-8">
                <h1 class="text-3xl md:text-4xl font-bold text-center mb-4 text-cyan-300 relative section-title">Admin Dashboard</h1>
                <p class="text-center text-gray-400 max-w-2xl mx-auto">Manage menu items, user accounts, and view business analytics.</p>
            </div>

            <!-- Welcome Message -->
            <div class="welcome-container">
                <h2 class="welcome-title" id="welcomeMessage">Welcome back, Admin!</h2>
                <p class="welcome-subtitle">You're doing a great job managing CoastCrave. Keep up the excellent work!</p>
            </div>
            
            <!-- Quick Actions -->
            <div class="quick-actions-container">
                <div class="quick-action-card" data-target="menuTab">
                    <div class="quick-action-icon">
                        <i class="fas fa-utensils"></i>
                    </div>
                    <h3>Manage Menu Items</h3>
                    <p>Add, edit, or remove menu items</p>
                </div>
                <div class="quick-action-card" data-target="usersTab">
                    <div class="quick-action-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Manage User Accounts</h3>
                    <p>View and manage all users</p>
                </div>
                <div class="quick-action-card" data-target="analyticsTab">
                    <div class="quick-action-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>View Analytics</h3>
                    <p>Business insights and reports</p>
                </div>
            </div>
            
            <!-- Recent Activity -->
            <div class="recent-activity-container">
                <h2 class="text-xl font-bold text-cyan-300 mb-4">Recent Activity</h2>
                <div id="recentActivityList">
                    <!-- Recent activity will be loaded here -->
                </div>
                <div id="noActivityMessage" class="text-center py-4 hidden">
                    <i class="fas fa-clipboard-list text-4xl text-gray-600 mb-3"></i>
                    <p class="text-gray-400">No recent activity to display</p>
                </div>
            </div>
            
            <!-- Admin Tabs -->
            <div class="flex mb-8 border-b border-blue-700">
                <div class="admin-tab py-3 px-6 active" data-tab="menu">Manage Menu Items</div>
                <div class="admin-tab py-3 px-6" data-tab="users">Manage User Accounts</div>
                <div class="admin-tab py-3 px-6" data-tab="analytics">Analytics</div>
            </div>
            
            <!-- Menu Management Tab -->
            <div id="menuTab" class="admin-content">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                    <h2 class="text-2xl font-bold text-cyan-300 mb-4 md:mb-0">Menu Items Management</h2>
                    <button id="addMenuItemBtn" class="bg-yellow-400 hover:bg-yellow-300 text-gray-900 px-4 py-2 rounded font-semibold transition">Add New Menu Item</button>
                </div>
                
                <!-- Search and Filter Bar -->
                <div class="search-filter-container">
                    <div class="search-bar">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" id="menuSearchInput" class="search-input" placeholder="Search by name, category, or status...">
                    </div>
                    <div class="filter-row">
                        <div class="filter-buttons w-full">
                            <div class="flex flex-wrap gap-2 filter-buttons-container">
                                <button class="filter-btn active" data-category="all">All Items</button>
                                <button class="filter-btn" data-category="fish">Fish</button>
                                <button class="filter-btn" data-category="shellfish">Shellfish</button>
                                <button class="filter-btn" data-category="soups">Soups & Stews</button>
                                <button class="filter-btn" data-category="squids">Squids</button>
                                <button class="filter-btn" data-category="sauces">Sauces</button>
                            </div>
                        </div>
                        <button class="clear-filters-btn" id="clearMenuFiltersBtn">
                            <i class="fas fa-times mr-1"></i> Clear Filters
                        </button>
                    </div>
                </div>
                
                <div class="interactive-card rounded-lg p-6 overflow-x-auto">
                    <table class="w-full min-w-full">
                        <thead>
                            <tr class="border-b border-blue-700 text-cyan-300">
                                <th class="py-3 px-4 text-left">ID</th>
                                <th class="py-3 px-4 text-left">Image</th>
                                <th class="py-3 px-4 text-left">Name</th>
                                <th class="py-3 px-4 text-left">Category</th>
                                <th class="py-3 px-4 text-left">Price</th>
                                <th class="py-3 px-4 text-left">Rating</th>
                                <th class="py-3 px-4 text-left">Status</th>
                                <th class="py-3 px-4 text-left">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="adminMenuItems">
                            <!-- Menu items will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- User Management Tab -->
            <div id="usersTab" class="admin-content hidden">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                    <h2 class="text-2xl font-bold text-cyan-300 mb-4 md:mb-0">User Accounts Management</h2>
                    <button id="addUserBtn" class="bg-yellow-400 hover:bg-yellow-300 text-gray-900 px-4 py-2 rounded font-semibold transition">Add New User</button>
                </div>
                
                <!-- Search and Filter Bar -->
                <div class="search-filter-container">
                    <div class="search-bar">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" id="userSearchInput" class="search-input" placeholder="Search by name, username, email, or role...">
                    </div>
                    <div class="filter-row">
                        <div class="filter-buttons w-full">
                            <div class="flex flex-wrap gap-2 filter-buttons-container">
                                <button class="filter-btn active" data-role="all">All Users</button>
                                <button class="filter-btn" data-role="admin">Admins</button>
                                <button class="filter-btn" data-role="staff">Staff</button>
                                <button class="filter-btn" data-role="customer">Customers</button>
                            </div>
                        </div>
                        <button class="clear-filters-btn" id="clearUserFiltersBtn">
                            <i class="fas fa-times mr-1"></i> Clear Filters
                        </button>
                    </div>
                </div>
                
                <div class="interactive-card rounded-lg p-6 overflow-x-auto">
                    <table class="w-full min-w-full">
                        <thead>
                            <tr class="border-b border-blue-700 text-cyan-300">
                                <th class="py-3 px-4 text-left">ID</th>
                                <th class="py-3 px-4 text-left">Name</th>
                                <th class="py-3 px-4 text-left">Username</th>
                                <th class="py-3 px-4 text-left">Email</th>
                                <th class="py-3 px-4 text-left">Role</th>
                                <th class="py-3 px-4 text-left">Status</th>
                                <th class="py-3 px-4 text-left">Registration Date</th>
                                <th class="py-3 px-4 text-left">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="adminUsers">
                            <!-- Users will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Analytics Tab -->
            <div id="analyticsTab" class="admin-content hidden">
                <h2 class="text-2xl font-bold text-cyan-300 mb-6">Business Analytics</h2>
                
                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 stats-grid">
                    <div class="interactive-card p-6 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-gray-400">Total Orders</p>
                                <h3 class="text-2xl font-bold text-cyan-300" id="totalOrders">0</h3>
                            </div>
                            <div class="text-3xl text-cyan-400">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                        </div>
                    </div>
                    <div class="interactive-card p-6 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-gray-400">Revenue</p>
                                <h3 class="text-2xl font-bold text-green-400" id="totalRevenue">0</h3>
                            </div>
                            <div class="text-3xl text-green-400">
                                <i class="fas fa-money-bill-wave"></i>
                            </div>
                        </div>
                    </div>
                    <div class="interactive-card p-6 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-gray-400">Customers</p>
                                <h3 class="text-2xl font-bold text-yellow-400" id="totalCustomers">0</h3>
                            </div>
                            <div class="text-3xl text-yellow-400">
                                <i class="fas fa-users"></i>
                            </div>
                        </div>
                    </div>
                    <div class="interactive-card p-6 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-gray-400">Menu Items</p>
                                <h3 class="text-2xl font-bold text-red-400" id="totalMenuItems">0</h3>
                            </div>
                            <div class="text-3xl text-red-400">
                                <i class="fas fa-utensils"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Order Status Breakdown -->
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8">
                    <div class="bg-blue-900 bg-opacity-20 p-4 rounded-lg border border-blue-700 text-center">
                        <div class="text-yellow-400 text-2xl mb-1">
                            <i class="fas fa-clock"></i>
                        </div>
                        <p class="text-sm text-gray-400">Pending</p>
                        <p class="text-xl font-bold text-yellow-400" id="pendingOrders">0</p>
                    </div>
                    <div class="bg-blue-900 bg-opacity-20 p-4 rounded-lg border border-blue-700 text-center">
                        <div class="text-blue-400 text-2xl mb-1">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <p class="text-sm text-gray-400">Confirmed</p>
                        <p class="text-xl font-bold text-blue-400" id="confirmedOrders">0</p>
                    </div>
                    <div class="bg-blue-900 bg-opacity-20 p-4 rounded-lg border border-blue-700 text-center">
                        <div class="text-purple-400 text-2xl mb-1">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <p class="text-sm text-gray-400">Preparing</p>
                        <p class="text-xl font-bold text-purple-400" id="preparingOrders">0</p>
                    </div>
                    <div class="bg-blue-900 bg-opacity-20 p-4 rounded-lg border border-blue-700 text-center">
                        <div class="text-orange-400 text-2xl mb-1">
                            <i class="fas fa-motorcycle"></i>
                        </div>
                        <p class="text-sm text-gray-400">Delivery</p>
                        <p class="text-xl font-bold text-orange-400" id="deliveryOrders">0</p>
                    </div>
                    <div class="bg-blue-900 bg-opacity-20 p-4 rounded-lg border border-blue-700 text-center">
                        <div class="text-green-400 text-2xl mb-1">
                            <i class="fas fa-check-double"></i>
                        </div>
                        <p class="text-sm text-gray-400">Delivered</p>
                        <p class="text-xl font-bold text-green-400" id="deliveredOrders">0</p>
                    </div>
                    <div class="bg-blue-900 bg-opacity-20 p-4 rounded-lg border border-blue-700 text-center">
                        <div class="text-red-400 text-2xl mb-1">
                            <i class="fas fa-times-circle"></i>
                        </div>
                        <p class="text-sm text-gray-400">Cancelled</p>
                        <p class="text-xl font-bold text-red-400" id="cancelledOrders">0</p>
                    </div>
                </div>
                
                <!-- Charts Grid -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <div class="dashboard-card">
                        <h4 class="text-xl font-bold text-cyan-300 mb-4">Top Selling Items</h4>
                        <div class="chart-container">
                            <canvas id="topItemsChart"></canvas>
                        </div>
                    </div>
                    <div class="dashboard-card">
                        <h4 class="text-xl font-bold text-cyan-300 mb-4">Orders by Status</h4>
                        <div class="chart-container">
                            <canvas id="ordersChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="dashboard-card">
                        <h4 class="text-xl font-bold text-cyan-300 mb-4">Revenue Trend</h4>
                        <div class="chart-container">
                            <canvas id="revenueChart"></canvas>
                        </div>
                    </div>
                    <div class="dashboard-card">
                        <h4 class="text-xl font-bold text-cyan-300 mb-4">User Registrations</h4>
                        <div class="chart-container">
                            <canvas id="userRegistrationsChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

       <!-- Footer -->
    <footer class="fixed bottom-0 left-0 w-full bg-gray-900 bg-opacity-95 py-4 border-t border-blue-800 z-40">
        <div class="container mx-auto px-4">
            <div class="text-center text-gray-400">
                <p>&copy; 2025 CoastCrave. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Add Menu Item Modal -->
    <div id="addMenuItemModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 class="text-xl font-bold text-cyan-300 mb-4">Add New Menu Item</h2>
            <form id="addMenuItemForm">
                <div class="form-group">
                    <label for="itemName" class="block mb-1 text-cyan-300 text-sm">Name</label>
                    <input type="text" id="itemName" class="form-control" placeholder="Enter item name" required>
                </div>
                <div class="form-group">
                    <label for="itemDescription" class="block mb-1 text-cyan-300 text-sm">Description</label>
                    <textarea id="itemDescription" class="form-control" placeholder="Enter item description" rows="2" required></textarea>
                </div>
                <div class="form-group">
                    <label for="itemPrice" class="block mb-1 text-cyan-300 text-sm">Price ()</label>
                    <input type="number" id="itemPrice" class="form-control" placeholder="Enter price" required>
                </div>
                <div class="form-group">
                    <label for="itemCategory" class="block mb-1 text-cyan-300 text-sm">Category</label>
                    <select id="itemCategory" class="form-control" required>
                        <option value="">Select category</option>
                        <option value="fish">Fish</option>
                        <option value="shellfish">Shellfish</option>
                        <option value="soups">Soups & Stews</option>
                        <option value="squids">Squids</option>
                        <option value="sauces">Sauces</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="itemImage" class="block mb-1 text-cyan-300 text-sm">Image URL</label>
                    <input type="text" id="itemImage" class="form-control" placeholder="Enter image URL" required>
                </div>
                <div class="form-group">
                    <label for="itemRating" class="block mb-1 text-cyan-300 text-sm">Rating</label>
                    <input type="number" id="itemRating" class="form-control" placeholder="Enter rating (0-5)" min="0" max="5" step="0.1" required>
                </div>
                <div class="form-group">
                    <label for="itemStatus" class="block mb-1 text-cyan-300 text-sm">Status</label>
                    <select id="itemStatus" class="form-control" required>
                        <option value="active">Active</option>
                        <option value="inactive">Inactive</option>
                    </select>
                </div>
                <div class="flex justify-end gap-3 mt-4">
                    <button type="button" class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-2 rounded text-sm font-semibold transition close-modal">Cancel</button>
                    <button type="submit" class="bg-cyan-400 hover:bg-cyan-300 text-gray-900 px-3 py-2 rounded text-sm font-semibold transition">Add Item</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Menu Item Modal -->
    <div id="editMenuItemModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 class="text-xl font-bold text-cyan-300 mb-4">Edit Menu Item</h2>
            <form id="editMenuItemForm">
                <input type="hidden" id="editItemId">
                <div class="form-group">
                    <label for="editItemName" class="block mb-1 text-cyan-300 text-sm">Name</label>
                    <input type="text" id="editItemName" class="form-control" placeholder="Enter item name" required>
                </div>
                <div class="form-group">
                    <label for="editItemDescription" class="block mb-1 text-cyan-300 text-sm">Description</label>
                    <textarea id="editItemDescription" class="form-control" placeholder="Enter item description" rows="2" required></textarea>
                </div>
                <div class="form-group">
                    <label for="editItemPrice" class="block mb-1 text-cyan-300 text-sm">Price ()</label>
                    <input type="number" id="editItemPrice" class="form-control" placeholder="Enter price" required>
                </div>
                <div class="form-group">
                    <label for="editItemCategory" class="block mb-1 text-cyan-300 text-sm">Category</label>
                    <select id="editItemCategory" class="form-control" required>
                        <option value="">Select category</option>
                        <option value="fish">Fish</option>
                        <option value="shellfish">Shellfish</option>
                        <option value="soups">Soups & Stews</option>
                        <option value="squids">Squids</option>
                        <option value="sauces">Sauces</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editItemImage" class="block mb-1 text-cyan-300 text-sm">Image URL</label>
                    <input type="text" id="editItemImage" class="form-control" placeholder="Enter image URL" required>
                </div>
                <div class="form-group">
                    <label for="editItemRating" class="block mb-1 text-cyan-300 text-sm">Rating</label>
                    <input type="number" id="editItemRating" class="form-control" placeholder="Enter rating (0-5)" min="0" max="5" step="0.1" required>
                </div>
                <div class="form-group">
                    <label for="editItemStatus" class="block mb-1 text-cyan-300 text-sm">Status</label>
                    <select id="editItemStatus" class="form-control" required>
                        <option value="active">Active</option>
                        <option value="inactive">Inactive</option>
                    </select>
                </div>
                <div class="flex justify-end gap-3 mt-4">
                    <button type="button" class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-2 rounded text-sm font-semibold transition close-modal">Cancel</button>
                    <button type="submit" class="bg-cyan-400 hover:bg-cyan-300 text-gray-900 px-3 py-2 rounded text-sm font-semibold transition">Update Item</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add User Modal -->
    <div id="addUserModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 class="text-xl font-bold text-cyan-300 mb-4">Add New User</h2>
            <form id="addUserForm">
                <div class="form-group">
                    <label for="userName" class="block mb-1 text-cyan-300 text-sm">Full Name</label>
                    <input type="text" id="userName" class="form-control" placeholder="Enter full name" required>
                </div>
                <div class="form-group">
                    <label for="userUsername" class="block mb-1 text-cyan-300 text-sm">Username</label>
                    <input type="text" id="userUsername" class="form-control" placeholder="Enter username" required>
                </div>
                <div class="form-group">
                    <label for="userEmail" class="block mb-1 text-cyan-300 text-sm">Email</label>
                    <input type="email" id="userEmail" class="form-control" placeholder="Enter email" required>
                </div>
                <div class="form-group">
                    <label for="userPassword" class="block mb-1 text-cyan-300 text-sm">Password</label>
                    <input type="password" id="userPassword" class="form-control" placeholder="Enter password" required>
                </div>
                <div class="form-group">
                    <label for="userRole" class="block mb-1 text-cyan-300 text-sm">Role</label>
                    <select id="userRole" class="form-control" required>
                        <option value="customer">Customer</option>
                        <option value="staff">Staff</option>
                        <option value="admin">Admin</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="userStatus" class="block mb-1 text-cyan-300 text-sm">Status</label>
                    <select id="userStatus" class="form-control" required>
                        <option value="active">Active</option>
                        <option value="inactive">Inactive</option>
                    </select>
                </div>
                <div class="flex justify-end gap-3 mt-4">
                    <button type="button" class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-2 rounded text-sm font-semibold transition close-modal">Cancel</button>
                    <button type="submit" class="bg-cyan-400 hover:bg-cyan-300 text-gray-900 px-3 py-2 rounded text-sm font-semibold transition">Add User</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit User Modal -->
    <div id="editUserModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 class="text-xl font-bold text-cyan-300 mb-4">Edit User</h2>
            <form id="editUserForm">
                <input type="hidden" id="editUserId">
                <div class="form-group">
                    <label for="editUserName" class="block mb-1 text-cyan-300 text-sm">Full Name</label>
                    <input type="text" id="editUserName" class="form-control" placeholder="Enter full name" required>
                </div>
                <div class="form-group">
                    <label for="editUserUsername" class="block mb-1 text-cyan-300 text-sm">Username</label>
                    <input type="text" id="editUserUsername" class="form-control" placeholder="Enter username" required>
                </div>
                <div class="form-group">
                    <label for="editUserEmail" class="block mb-1 text-cyan-300 text-sm">Email</label>
                    <input type="email" id="editUserEmail" class="form-control" placeholder="Enter email" required>
                </div>
                <div class="form-group">
                    <label for="editUserPassword" class="block mb-1 text-cyan-300 text-sm">Password</label>
                    <input type="password" id="editUserPassword" class="form-control" placeholder="Leave blank to keep current password">
                </div>
                <div class="form-group">
                    <label for="editUserRole" class="block mb-1 text-cyan-300 text-sm">Role</label>
                    <select id="editUserRole" class="form-control" required>
                        <option value="customer">Customer</option>
                        <option value="staff">Staff</option>
                        <option value="admin">Admin</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editUserStatus" class="block mb-1 text-cyan-300 text-sm">Status</label>
                    <select id="editUserStatus" class="form-control" required>
                        <option value="active">Active</option>
                        <option value="inactive">Inactive</option>
                    </select>
                </div>
                <div class="flex justify-end gap-3 mt-4">
                    <button type="button" class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-2 rounded text-sm font-semibold transition close-modal">Cancel</button>
                    <button type="submit" class="bg-cyan-400 hover:bg-cyan-300 text-gray-900 px-3 py-2 rounded text-sm font-semibold transition">Update User</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Application State
        let appState = {
            users: [],
            menuItems: [],
            adminActivities: [],
            currentUser: null
        };

        // Variables to track items to be deleted
        let itemToDelete = null;
        let userToDelete = null;

        // Motivational Messages
        const motivationalMessages = [
            "Keep up the great service!",
            "You're not just managing orders  you're shaping experiences.",
            "Small tasks done with great effort lead to big success.",
            "Your leadership keeps everything running like clockwork. Keep it up!",
            "Behind every smooth operation is someone like you  calm, capable, and consistent.",
            "Progress, not perfection. Each day you're making CoastCrave better."
        ];

        // Default menu items (all 24 items)
        const defaultMenuItems = [
            // Fish Dishes
            {
                id: 1,
                name: "Grilled Salmon",
                description: "A flaky, moist, and juicy fish with a slightly smoky flavor and a charred exterior, achieved by cooking it directly on a grill.",
                price: 250,
                category: "fish",
                image: "grilled salmon.png",
                rating: 4.8,
                badge: "top-pick" // Top pick badge
            },
            {
                id: 2,
                name: "Salmon Teriyaki",
                description: "Sweet and savory Japanese-style grilled salmon.",
                price: 270,
                category: "fish",
                image: "salmon teriyaki.jpg",
                rating: 4.7
            },
            {
                id: 3,
                name: "Fish and Chips",
                description: "Crispy battered cream dory served with fries and tartar sauce.",
                price: 180,
                category: "fish",
                image: "freepik__the-style-is-candid-image-photography-with-natural__19046.png",
                rating: 4.5
            },
            {
                id: 4,
                name: "Bangus Sisig (Milkfish Sisig)",
                description: "Sizzling boneless bangus flakes tossed in spicy mayo.",
                price: 120,
                category: "fish",
                image: "milkfish sisig.jpg",
                rating: 4.6,
                badge: "fresh" // Freshly added badge
            },
            // Shellfish Dishes
            {
                id: 5,
                name: "Baked Tahong (Mussels with Cheese)",
                description: "Oven-baked mussels topped with creamy garlic butter and melted cheese.",
                price: 180,
                category: "shellfish",
                image: "Baked Mussels with cheese.jpg",
                rating: 4.4,
                badge: "top-pick" // Top pick badge
            },
            {
                id: 6,
                name: "Garlic Butter Clams",
                description: "Fresh local clams sauted in butter and garlic sauce.",
                price: 150,
                category: "shellfish",
                image: "buttered garlic clams.jpg",
                rating: 4.3
            },
            {
                id: 7,
                name: "Steamed Oysters with Ginger & Soy",
                description: "Lightly steamed oysters in savory ginger-soy dressing.",
                price: 180,
                category: "shellfish",
                image: "Steamed Oysters with Ginger and Soy Sauce.jpg",
                rating: 4.5,
                badge: "fresh" // Freshly added badge
            },
            {
                id: 8,
                name: "Spicy Scallops in Cream Sauce",
                description: "Tender scallops in a rich, spicy cream sauce.",
                price: 200,
                category: "shellfish",
                image: "spicy scallops in cream cheese.jpg",
                rating: 4.7
            },
            // Soups & Stews
            {
                id: 9,
                name: "Sinigang na Hipon",
                description: "Filipino sour soup with shrimp, kangkong, and radish.",
                price: 150,
                category: "soups",
                image: "Sinigang na Hipon.jpg",
                rating: 4.6,
                badge: "top-pick" // Top pick badge
            },
            {
                id: 10,
                name: "Seafood Kare-Kare",
                description: "Creamy peanut stew with shrimp, squid, and vegetables.",
                price: 200,
                category: "soups",
                image: "Seafood Kare-Kare.jpg",
                rating: 4.5
            },
            {
                id: 11,
                name: "Bouillabaisse",
                description: "Hearty seafood stew with fish, clams, and shrimp.",
                price: 220,
                category: "soups",
                image: "Bouillabaisse (Seafood Stew).jpg",
                rating: 4.7
            },
            {
                id: 12,
                name: "Ginataang Alimasag",
                description: "A Filipino seafood dish where blue crabs are steamed and simmered in spiced coconut milk with string beans and squash.",
                price: 250,
                category: "soups",
                image: "Ginataang Alimasag.jpg",
                rating: 4.8,
                badge: "fresh" // Freshly added badge
            },
            // Squids
            {
                id: 13,
                name: "Calamares (Fried Squid Rings)",
                description: "Filipino favorite crispy golden squid rings.",
                price: 120,
                category: "squids",
                image: "Calamares (Fried Squid Rings).jpg",
                rating: 4.4,
                badge: "top-pick" // Top pick badge
            },
            {
                id: 14,
                name: "Adobong Pusit (Squid Adobo)",
                description: "Squid simmered in soy sauce, vinegar, and garlic.",
                price: 180,
                category: "squids",
                image: "adobong pusit.jpg",
                rating: 4.6
            },
            {
                id: 15,
                name: "Grilled Stuffed Squid",
                description: "Squid stuffed with tomatoes, onions, and herbs.",
                price: 160,
                category: "squids",
                image: "Grilled Stuffed Squid.png",
                rating: 4.5
            },
            {
                id: 16,
                name: "Squid in Veggies and Oyster Sauce",
                description: "Stir-fried squid with vegetables and oyster sauce.",
                price: 140,
                category: "squids",
                image: "Squid in Veggies and Oyster Sauce.jpg",
                rating: 4.3,
                badge: "fresh" // Freshly added badge
            },
            // Sauces
            {
                id: 17,
                name: "Garlic Butter Sauce",
                description: "Rich, creamy blend of butter and roasted garlic.",
                price: 30,
                category: "sauces",
                image: "Garlic Butter Sauce.png",
                rating: 4.5,
                badge: "top-pick" // Top pick badge
            },
            {
                id: 18,
                name: "Sweet Chili Sauce",
                description: "Sweet and mildly spicy dipping sauce.",
                price: 30,
                category: "sauces",
                image: "Sweet Chili Sauce.jpg",
                rating: 4.3
            },
            {
                id: 19,
                name: "Soy-Calamansi Sauce",
                description: "Classic Filipino soy sauce with calamansi and chili.",
                price: 25,
                category: "sauces",
                image: "Soy-Calamansi Sauce.png",
                rating: 4.6
            },
            {
                id: 20,
                name: "Spicy Vinegar Dip",
                description: "Local suka with chili, garlic, and onion for a kick.",
                price: 20,
                category: "sauces",
                image: "Spicy Vinegar Dip.png",
                rating: 4.4,
                badge: "fresh" // Freshly added badge
            },
            {
                id: 21,
                name: "Tartar Sauce",
                description: "Creamy mayo-based sauce with pickles and herbs.",
                price: 30,
                category: "sauces",
                image: "tartar sauce.jpg",
                rating: 4.3
            },
            {
                id: 22,
                name: "Oyster Sauce Glaze",
                description: "Thick, savory-sweet Chinese-style oyster blend.",
                price: 25,
                category: "sauces",
                image: "oyster sauce glaze.jpg",
                rating: 4.4
            },
            {
                id: 23,
                name: "Cheese Sauce",
                description: "Melted creamy cheese perfect for topping baked dishes.",
                price: 35,
                category: "sauces",
                image: "cheese sauce.jpg",
                rating: 4.6
            },
            {
                id: 24,
                name: "Coconut Curry Sauce",
                description: "Creamy coconut-based curry with mild spice.",
                price: 40,
                category: "sauces",
                image: "coconut curry sauce.jpg",
                rating: 4.7,
                badge: "fresh" // Freshly added badge
            }
        ];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in and is an admin
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                const user = JSON.parse(savedUser);
                if (user.type === 'admin') {
                    appState.currentUser = user;
                    appState.isLoggedIn = true;
                    // Update the header with the current user's information
                    updateUserHeader(user);
                    updateWelcomeMessage(user);
                } else {
                    // Redirect non-admin users
                    if (user.type === 'customer') {
                        window.location.href = 'customer_dashboard.html';
                    } else if (user.type === 'staff') {
                        window.location.href = 'staff.html';
                    }
                }
            } else {
                // For demo purposes, create a default admin user
                const defaultAdmin = {
                    id: 1,
                    name: "Admin User",
                    username: "admin",
                    email: "admin@coastcrave.com",
                    type: "admin",
                    status: "active"
                };
                localStorage.setItem('currentUser', JSON.stringify(defaultAdmin));
                appState.currentUser = defaultAdmin;
                appState.isLoggedIn = true;
                updateUserHeader(defaultAdmin);
                updateWelcomeMessage(defaultAdmin);
            }
            
            loadAdminData();
            setupEventListeners();
            loadRecentActivities();
            loadSalesOverview();
        });

        // Update the user header with current user information
        function updateUserHeader(user) {
            document.getElementById('currentUserName').textContent = user.name;
            document.getElementById('dropdownUserName').textContent = user.name;
            document.getElementById('dropdownUserEmail').textContent = user.email;
            document.getElementById('dropdownUserRole').textContent = user.type === 'admin' ? 'Administrator' : 
                                                                       user.type === 'staff' ? 'Staff' : 'Customer';
        }

        // Update welcome message with admin name
        function updateWelcomeMessage(user) {
            document.getElementById('welcomeMessage').textContent = `Welcome back, ${user.name}!`;
        }

        // Load admin data from localStorage
        function loadAdminData() {
            try {
                // Load menu items from localStorage
                const savedMenuItems = localStorage.getItem('menuItems');
                if (savedMenuItems) {
                    appState.menuItems = JSON.parse(savedMenuItems);
                } else {
                    // If no menu items in localStorage, use default ones
                    appState.menuItems = [...defaultMenuItems];
                    localStorage.setItem('menuItems', JSON.stringify(appState.menuItems));
                }
                
                loadAdminMenuItems();
                
                // Load users from the main user list for admin management
                const savedUsers = localStorage.getItem('seafoodUsers');
                if (savedUsers) {
                    appState.users = JSON.parse(savedUsers);
                } else {
                    // If no users in localStorage, create default admin user
                    appState.users = [
                        {
                            id: 1,
                            name: "Admin User",
                            username: "admin",
                            email: "admin@coastcrave.com",
                            password: "admin123",
                            type: "admin",
                            status: "active",
                            registrationDate: new Date().toISOString()
                        }
                    ];
                    localStorage.setItem('seafoodUsers', JSON.stringify(appState.users));
                }
                
                // Load admin activities
                const savedActivities = localStorage.getItem('adminActivities');
                if (savedActivities) {
                    appState.adminActivities = JSON.parse(savedActivities);
                } else {
                    appState.adminActivities = [];
                    localStorage.setItem('adminActivities', JSON.stringify(appState.adminActivities));
                }
                
                loadAdminUsers();
                
            } catch (error) {
                console.error('Error loading admin data:', error);
            }
        }

        // Load admin menu items
        function loadAdminMenuItems(category = 'all') {
            const menuContainer = document.getElementById('adminMenuItems');
            const totalMenuItems = document.getElementById('totalMenuItems');
            
            menuContainer.innerHTML = '';
            
            // Filter items by category if needed
            const filteredItems = category === 'all' 
                ? appState.menuItems 
                : appState.menuItems.filter(item => item.category === category);
            
            filteredItems.forEach(item => {
                const menuRow = document.createElement('tr');
                menuRow.className = 'border-b border-blue-700 hover:bg-blue-900 hover:bg-opacity-10';
                menuRow.innerHTML = `
                    <td class="py-3 px-4">${item.id}</td>
                    <td class="py-3 px-4">
                        <img src="${item.image}" alt="${item.name}" class="menu-item-image">
                    </td>
                    <td class="py-3 px-4 font-semibold">${item.name}</td>
                    <td class="py-3 px-4 capitalize">${item.category}</td>
                    <td class="py-3 px-4">${item.price}</td>
                    <td class="py-3 px-4">
                        <div class="flex items-center">
                            <span class="text-yellow-400 mr-1">${generateStarRating(item.rating)}</span>
                            <span class="text-sm">(${item.rating})</span>
                        </div>
                    </td>
                    <td class="py-3 px-4">
                        <span class="order-status status-${item.status}">${item.status === 'active' ? 'Active' : 'Inactive'}</span>
                    </td>
                    <td class="py-3 px-4">
                        <button class="edit-menu-item bg-cyan-400 text-gray-900 px-3 py-1 rounded text-sm font-semibold mr-2 transition hover:bg-cyan-300" data-id="${item.id}">Edit</button>
                        <button class="delete-menu-item bg-red-500 text-white px-3 py-1 rounded text-sm font-semibold transition hover:bg-red-600" data-id="${item.id}">Delete</button>
                    </td>
                `;
                menuContainer.appendChild(menuRow);
            });
            
            // Update total menu items count
            if (totalMenuItems) {
                totalMenuItems.textContent = appState.menuItems.length;
            }
        }

        // Generate star rating HTML
        function generateStarRating(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 !== 0;
            
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star"></i>';
            }
            
            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt"></i>';
            }
            
            const emptyStars = 5 - Math.ceil(rating);
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star"></i>';
            }
            
            return stars;
        }

        // Load admin users with optional role filtering
        function loadAdminUsers(role = 'all') {
            const usersContainer = document.getElementById('adminUsers');
            const totalCustomers = document.getElementById('totalCustomers');
            
            usersContainer.innerHTML = '';
            
            // Filter users by role if needed
            const filteredUsers = role === 'all' 
                ? appState.users 
                : appState.users.filter(user => user.type === role);
            
            // Show filtered users
            filteredUsers.forEach(user => {
                const userRow = document.createElement('tr');
                userRow.className = 'border-b border-blue-700 hover:bg-blue-900 hover:bg-opacity-10';
                userRow.innerHTML = `
                    <td class="py-3 px-4">${user.id}</td>
                    <td class="py-3 px-4 font-semibold">${user.name}</td>
                    <td class="py-3 px-4">${user.username}</td>
                    <td class="py-3 px-4">${user.email}</td>
                    <td class="py-3 px-4 capitalize">
                        <span class="status-badge ${getRoleBadgeClass(user.type)}">${user.type}</span>
                    </td>
                    <td class="py-3 px-4">
                        <span class="order-status status-${user.status}">${user.status === 'active' ? 'Active' : 'Inactive'}</span>
                    </td>
                    <td class="py-3 px-4">${new Date(user.registrationDate).toLocaleDateString()}</td>
                    <td class="py-3 px-4">
                        <button class="edit-user bg-cyan-400 text-gray-900 px-3 py-1 rounded text-sm font-semibold mr-2 transition hover:bg-cyan-300" data-id="${user.id}">Edit</button>
                        <button class="delete-user bg-red-500 text-white px-3 py-1 rounded text-sm font-semibold transition hover:bg-red-600" data-id="${user.id}" ${user.id === appState.currentUser.id ? 'disabled' : ''}>Delete</button>
                    </td>
                `;
                usersContainer.appendChild(userRow);
            });
            
            // Update total customers count (only customers)
            if (totalCustomers) {
                const customerCount = appState.users.filter(user => user.type === 'customer').length;
                totalCustomers.textContent = customerCount;
            }
        }

        // Helper function to get badge class based on user role
        function getRoleBadgeClass(role) {
            switch(role) {
                case 'admin': return 'role-admin';
                case 'staff': return 'role-staff';
                case 'customer': return 'role-customer';
                default: return 'role-customer';
            }
        }

        // Record admin activity - now visible to all admins
        function recordAdminActivity(type, message) {
            const activity = {
                id: appState.adminActivities.length + 1,
                adminId: appState.currentUser.id,
                adminName: appState.currentUser.name,
                type: type,
                message: message,
                timestamp: new Date().toISOString()
            };
            
            appState.adminActivities.unshift(activity);
            
            // Keep only the last 20 activities
            if (appState.adminActivities.length > 20) {
                appState.adminActivities = appState.adminActivities.slice(0, 20);
            }
            
            // Save to localStorage
            localStorage.setItem('adminActivities', JSON.stringify(appState.adminActivities));
            
            // Refresh the recent activities display
            loadRecentActivities();
        }

        // Load recent activities - now shows all admin activities
        function loadRecentActivities() {
            const activityContainer = document.getElementById('recentActivityList');
            const noActivityMessage = document.getElementById('noActivityMessage');
            
            activityContainer.innerHTML = '';
            
            if (appState.adminActivities.length === 0) {
                noActivityMessage.classList.remove('hidden');
                activityContainer.classList.add('hidden');
                return;
            }
            
            noActivityMessage.classList.add('hidden');
            activityContainer.classList.remove('hidden');
            
            // Show only the 5 most recent activities (from all admins)
            const recentActivities = appState.adminActivities.slice(0, 5);
            
            recentActivities.forEach(activity => {
                const activityItem = document.createElement('div');
                activityItem.className = 'activity-item';
                
                // Determine icon and color based on activity type
                let iconClass, colorClass;
                switch(activity.type) {
                    case 'menu':
                        iconClass = 'fas fa-utensils';
                        colorClass = 'bg-cyan-500';
                        break;
                    case 'user':
                        iconClass = 'fas fa-user-cog';
                        colorClass = 'bg-purple-500';
                        break;
                    case 'order':
                        iconClass = 'fas fa-shopping-cart';
                        colorClass = 'bg-green-500';
                        break;
                    case 'system':
                        iconClass = 'fas fa-database';
                        colorClass = 'bg-blue-500';
                        break;
                    default:
                        iconClass = 'fas fa-info-circle';
                        colorClass = 'bg-gray-500';
                }
                
                // Format the time
                const activityTime = new Date(activity.timestamp);
                const now = new Date();
                const diffMs = now - activityTime;
                const diffMins = Math.floor(diffMs / 60000);
                const diffHours = Math.floor(diffMs / 3600000);
                const diffDays = Math.floor(diffMs / 86400000);
                
                let timeText;
                if (diffMins < 1) {
                    timeText = 'Just now';
                } else if (diffMins < 60) {
                    timeText = `${diffMins} minute${diffMins === 1 ? '' : 's'} ago`;
                } else if (diffHours < 24) {
                    timeText = `${diffHours} hour${diffHours === 1 ? '' : 's'} ago`;
                } else {
                    timeText = `${diffDays} day${diffDays === 1 ? '' : 's'} ago`;
                }
                
                // Highlight if the current admin performed this activity
                const isCurrentAdmin = activity.adminId === appState.currentUser.id;
                const adminNameHtml = isCurrentAdmin 
                    ? `<span class="text-cyan-300 font-semibold">You</span>` 
                    : `<span class="text-gray-300">${activity.adminName}</span>`;
                
                activityItem.innerHTML = `
                    <div class="activity-icon ${colorClass}">
                        <i class="${iconClass}"></i>
                    </div>
                    <div class="activity-content">
                        <p>${adminNameHtml}: ${activity.message}</p>
                        <span class="activity-time">${timeText}</span>
                    </div>
                `;
                activityContainer.appendChild(activityItem);
            });
        }

        // Load sales overview
        function loadSalesOverview() {
            // Revenue Overview Chart
            const revenueCtx = document.getElementById('revenueOverviewChart').getContext('2d');
            if (window.revenueOverviewChart) {
                window.revenueOverviewChart.destroy();
            }
            
            window.revenueOverviewChart = new Chart(revenueCtx, {
                type: 'line',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'Revenue ()',
                        data: [12000, 19000, 15000, 25000, 22000, 30000, 28000],
                        borderColor: 'rgba(34, 197, 94, 1)',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#caf0f8',
                                callback: function(value) {
                                    return '' + value.toLocaleString();
                                }
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        }
                    }
                }
            });
            
            // Top Products Chart
            const productsCtx = document.getElementById('topProductsChart').getContext('2d');
            if (window.topProductsChart) {
                window.topProductsChart.destroy();
            }
            
            window.topProductsChart = new Chart(productsCtx, {
                type: 'bar',
                data: {
                    labels: ['Grilled Salmon', 'Baked Tahong', 'Calamares', 'Garlic Butter Clams', 'Sinigang na Hipon'],
                    datasets: [{
                        label: 'Orders',
                        data: [45, 38, 32, 28, 25],
                        backgroundColor: [
                            'rgba(0, 180, 216, 0.7)',
                            'rgba(255, 107, 107, 0.7)',
                            'rgba(255, 209, 102, 0.7)',
                            'rgba(144, 224, 239, 0.7)',
                            'rgba(244, 233, 205, 0.7)'
                        ],
                        borderColor: [
                            'rgba(0, 180, 216, 1)',
                            'rgba(255, 107, 107, 1)',
                            'rgba(255, 209, 102, 1)',
                            'rgba(144, 224, 239, 1)',
                            'rgba(244, 233, 205, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        }
                    }
                }
            });
            
            // Customer Growth Chart
            const growthCtx = document.getElementById('customerGrowthChart').getContext('2d');
            if (window.customerGrowthChart) {
                window.customerGrowthChart.destroy();
            }
            
            window.customerGrowthChart = new Chart(growthCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'New Customers',
                        data: [25, 32, 28, 41, 38, 52],
                        borderColor: 'rgba(59, 130, 246, 1)',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        }
                    }
                }
            });
        }

        // Set up event listeners
        function setupEventListeners() {
            // Admin tabs
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    switchToTab(tabId);
                });
            });
            
            // Quick action cards
            document.querySelectorAll('.quick-action-card').forEach(card => {
                card.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-target');
                    switchToTab(targetTab.replace('Tab', ''));
                });
            });
            
            
            // Add menu item button
            document.getElementById('addMenuItemBtn').addEventListener('click', function() {
                document.getElementById('addMenuItemModal').style.display = 'block';
            });
            
            // Add user button
            document.getElementById('addUserBtn').addEventListener('click', function() {
                document.getElementById('addUserModal').style.display = 'block';
            });
            
            // Form submissions
            document.getElementById('addMenuItemForm').addEventListener('submit', handleAddMenuItem);
            document.getElementById('editMenuItemForm').addEventListener('submit', handleEditMenuItem);
            document.getElementById('addUserForm').addEventListener('submit', handleAddUser);
            document.getElementById('editUserForm').addEventListener('submit', handleEditUser);
            
            // Close modals
            document.querySelectorAll('.close-modal').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.modal').forEach(modal => {
                        modal.style.display = 'none';
                    });
                });
            });
            
            // Logout - Updated to use custom notification
            document.getElementById('logoutBtn').addEventListener('click', function(e) {
                e.preventDefault();
                showLogoutConfirmation();
            });
            
            // Filter buttons for menu items
            document.querySelectorAll('#menuTab .filter-btn').forEach(button => {
                button.addEventListener('click', function() {
                    // Update active filter button
                    document.querySelectorAll('#menuTab .filter-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Load filtered menu items
                    const category = this.getAttribute('data-category');
                    loadAdminMenuItems(category);
                });
            });
            
            // Filter buttons for users
            document.querySelectorAll('#usersTab .filter-btn').forEach(button => {
                button.addEventListener('click', function() {
                    // Update active filter button
                    document.querySelectorAll('#usersTab .filter-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Load filtered users
                    const role = this.getAttribute('data-role');
                    loadAdminUsers(role);
                });
            });
            
            // Clear filters buttons
            document.getElementById('clearMenuFiltersBtn').addEventListener('click', function() {
                document.querySelectorAll('#menuTab .filter-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector('#menuTab .filter-btn[data-category="all"]').classList.add('active');
                loadAdminMenuItems('all');
                document.getElementById('menuSearchInput').value = '';
            });
            
            document.getElementById('clearUserFiltersBtn').addEventListener('click', function() {
                document.querySelectorAll('#usersTab .filter-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector('#usersTab .filter-btn[data-role="all"]').classList.add('active');
                loadAdminUsers('all');
                document.getElementById('userSearchInput').value = '';
            });
            
            // Search functionality
            document.getElementById('menuSearchInput').addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const rows = document.querySelectorAll('#adminMenuItems tr');
                
                rows.forEach(row => {
                    const text = row.textContent.toLowerCase();
                    if (text.includes(searchTerm)) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
            });
            
            document.getElementById('userSearchInput').addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const rows = document.querySelectorAll('#adminUsers tr');
                
                rows.forEach(row => {
                    const text = row.textContent.toLowerCase();
                    if (text.includes(searchTerm)) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
            });
            
            // Edit and delete buttons (event delegation)
            document.addEventListener('click', function(e) {
                // Edit menu item
                if (e.target.classList.contains('edit-menu-item')) {
                    const itemId = parseInt(e.target.getAttribute('data-id'));
                    openEditMenuItemModal(itemId);
                }
                
                // Delete menu item
                if (e.target.classList.contains('delete-menu-item')) {
                    const itemId = parseInt(e.target.getAttribute('data-id'));
                    showDeleteMenuItemConfirmation(itemId);
                }
                
                // Edit user
                if (e.target.classList.contains('edit-user')) {
                    const userId = parseInt(e.target.getAttribute('data-id'));
                    openEditUserModal(userId);
                }
                
                // Delete user
                if (e.target.classList.contains('delete-user')) {
                    const userId = parseInt(e.target.getAttribute('data-id'));
                    showDeleteUserConfirmation(userId);
                }
            });
            
            // Delete confirmation buttons
            document.getElementById('deleteMenuItemCancelBtn').addEventListener('click', function() {
                document.getElementById('deleteMenuItemModal').style.display = 'none';
                itemToDelete = null;
            });
            
            document.getElementById('deleteMenuItemConfirmBtn').addEventListener('click', function() {
                if (itemToDelete) {
                    deleteMenuItem(itemToDelete);
                }
                document.getElementById('deleteMenuItemModal').style.display = 'none';
                itemToDelete = null;
            });
            
            document.getElementById('deleteUserCancelBtn').addEventListener('click', function() {
                document.getElementById('deleteUserModal').style.display = 'none';
                userToDelete = null;
            });
            
            document.getElementById('deleteUserConfirmBtn').addEventListener('click', function() {
                if (userToDelete) {
                    deleteUser(userToDelete);
                }
                document.getElementById('deleteUserModal').style.display = 'none';
                userToDelete = null;
            });
        }

        // Show delete menu item confirmation
        function showDeleteMenuItemConfirmation(itemId) {
            const item = appState.menuItems.find(item => item.id === itemId);
            if (item) {
                itemToDelete = itemId;
                document.getElementById('deleteMenuItemMessage').textContent = 
                    `Are you sure you want to delete the menu item "${item.name}"? This action cannot be undone.`;
                document.getElementById('deleteMenuItemModal').style.display = 'block';
            }
        }

        // Show delete user confirmation
        function showDeleteUserConfirmation(userId) {
            const user = appState.users.find(user => user.id === userId);
            if (user) {
                userToDelete = userId;
                document.getElementById('deleteUserMessage').textContent = 
                    `Are you sure you want to delete the user "${user.name}"? This action cannot be undone.`;
                document.getElementById('deleteUserModal').style.display = 'block';
            }
        }

        // Delete menu item
        function deleteMenuItem(itemId) {
            const item = appState.menuItems.find(item => item.id === itemId);
            if (item) {
                // Remove from state
                appState.menuItems = appState.menuItems.filter(item => item.id !== itemId);
                // Update localStorage
                localStorage.setItem('menuItems', JSON.stringify(appState.menuItems));
                // Record activity
                recordAdminActivity('menu', `Deleted menu item: ${item.name}`);
                // Refresh display
                loadAdminMenuItems();
                showSuccessNotification('Menu item deleted successfully!');
            }
        }

        // Delete user
        function deleteUser(userId) {
            const user = appState.users.find(user => user.id === userId);
            if (user) {
                // Remove from state
                appState.users = appState.users.filter(user => user.id !== userId);
                // Update localStorage
                localStorage.setItem('seafoodUsers', JSON.stringify(appState.users));
                // Record activity
                recordAdminActivity('user', `Deleted user: ${user.name}`);
                // Refresh display
                loadAdminUsers();
                showSuccessNotification('User deleted successfully!');
            }
        }

        // Switch to a specific tab
        function switchToTab(tabId) {
            // Update active tab
            document.querySelectorAll('.admin-tab').forEach(t => {
                t.classList.remove('active');
            });
            document.querySelector(`.admin-tab[data-tab="${tabId}"]`).classList.add('active');
            
            // Show corresponding content
            document.querySelectorAll('.admin-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(`${tabId}Tab`).classList.remove('hidden');
            
            // Scroll to the tab section
            document.getElementById(`${tabId}Tab`).scrollIntoView({ behavior: 'smooth', block: 'start' });
            
            // Load analytics if needed
            if (tabId === 'analytics') {
                loadAnalytics();
            }
        }

        // Open edit menu item modal
        function openEditMenuItemModal(itemId) {
            const item = appState.menuItems.find(item => item.id === itemId);
            if (item) {
                document.getElementById('editItemId').value = item.id;
                document.getElementById('editItemName').value = item.name;
                document.getElementById('editItemDescription').value = item.description;
                document.getElementById('editItemPrice').value = item.price;
                document.getElementById('editItemCategory').value = item.category;
                document.getElementById('editItemImage').value = item.image;
                document.getElementById('editItemRating').value = item.rating;
                document.getElementById('editItemStatus').value = item.status;
                
                document.getElementById('editMenuItemModal').style.display = 'block';
            }
        }

        // Open edit user modal
        function openEditUserModal(userId) {
            const user = appState.users.find(user => user.id === userId);
            if (user) {
                document.getElementById('editUserId').value = user.id;
                document.getElementById('editUserName').value = user.name;
                document.getElementById('editUserUsername').value = user.username;
                document.getElementById('editUserEmail').value = user.email;
                document.getElementById('editUserRole').value = user.type;
                document.getElementById('editUserStatus').value = user.status;
                
                document.getElementById('editUserModal').style.display = 'block';
            }
        }

        // Show success notification
        function showSuccessNotification(message) {
            const notification = document.getElementById('successNotification');
            const messageElement = document.getElementById('successNotificationMessage');
            messageElement.textContent = message;
            notification.classList.add('show');
            
            // Add event listener for the OK button
            document.getElementById('successNotificationOkBtn').onclick = function() {
                hideSuccessNotification();
            };
            
            // Close button functionality
            notification.querySelector('.notification-close').onclick = function() {
                hideSuccessNotification();
            };
            
            // Close when clicking outside the notification
            notification.onclick = function(e) {
                if (e.target === notification) {
                    hideSuccessNotification();
                }
            };
            
            // Auto-hide after 3 seconds
            setTimeout(() => {
                hideSuccessNotification();
            }, 3000);
        }

        function hideSuccessNotification() {
            const notification = document.getElementById('successNotification');
            notification.classList.remove('show');
        }

        // Handle add menu item
        function handleAddMenuItem(e) {
            e.preventDefault();
            
            const name = document.getElementById('itemName').value;
            const description = document.getElementById('itemDescription').value;
            const price = parseFloat(document.getElementById('itemPrice').value);
            const category = document.getElementById('itemCategory').value;
            const image = document.getElementById('itemImage').value;
            const rating = parseFloat(document.getElementById('itemRating').value);
            const status = document.getElementById('itemStatus').value;
            
            // Create new menu item
            const newItem = {
                id: appState.menuItems.length > 0 ? Math.max(...appState.menuItems.map(item => item.id)) + 1 : 1,
                name,
                description,
                price,
                category,
                image,
                rating,
                status
            };
            
            appState.menuItems.push(newItem);
            
            // Update localStorage - this ensures the item is available to customers
            localStorage.setItem('menuItems', JSON.stringify(appState.menuItems));
            
            // Record activity
            recordAdminActivity('menu', `Added new menu item: ${name}`);
            
            // Close modal and reset form
            document.getElementById('addMenuItemModal').style.display = 'none';
            document.getElementById('addMenuItemForm').reset();
            
            // Show success notification
            showSuccessNotification('Menu item added successfully!');
            
            // Refresh the menu items table
            loadAdminMenuItems();
        }

        // Handle edit menu item
        function handleEditMenuItem(e) {
            e.preventDefault();
            
            const id = parseInt(document.getElementById('editItemId').value);
            const name = document.getElementById('editItemName').value;
            const description = document.getElementById('editItemDescription').value;
            const price = parseFloat(document.getElementById('editItemPrice').value);
            const category = document.getElementById('editItemCategory').value;
            const image = document.getElementById('editItemImage').value;
            const rating = parseFloat(document.getElementById('editItemRating').value);
            const status = document.getElementById('editItemStatus').value;
            
            // Find and update the menu item
            const itemIndex = appState.menuItems.findIndex(item => item.id === id);
            if (itemIndex !== -1) {
                const oldItem = appState.menuItems[itemIndex];
                appState.menuItems[itemIndex] = {
                    ...appState.menuItems[itemIndex],
                    name,
                    description,
                    price,
                    category,
                    image,
                    rating,
                    status
                };
                
                // Update localStorage
                localStorage.setItem('menuItems', JSON.stringify(appState.menuItems));
                
                // Record activity
                recordAdminActivity('menu', `Updated menu item: ${name}`);
                
                // Close modal
                document.getElementById('editMenuItemModal').style.display = 'none';
                
                // Refresh the menu items table
                loadAdminMenuItems();
                
                showSuccessNotification(`Menu item "${name}" updated successfully!`);
            }
        }

        // Handle add user
        function handleAddUser(e) {
            e.preventDefault();
            
            const name = document.getElementById('userName').value;
            const username = document.getElementById('userUsername').value;
            const email = document.getElementById('userEmail').value;
            const password = document.getElementById('userPassword').value;
            const role = document.getElementById('userRole').value;
            const status = document.getElementById('userStatus').value;
            
            // Check if email already exists
            if (appState.users.some(user => user.email === email)) {
                alert('A user with this email already exists!');
                return;
            }
            
            // Check if username already exists
            if (appState.users.some(user => user.username === username)) {
                alert('A user with this username already exists!');
                return;
            }
            
            // Add to users array
            const newUser = {
                id: appState.users.length > 0 ? Math.max(...appState.users.map(user => user.id)) + 1 : 1,
                name,
                username,
                email,
                password,
                type: role,
                status,
                registrationDate: new Date().toISOString()
            };
            
            appState.users.push(newUser);
            
            // Update localStorage
            localStorage.setItem('seafoodUsers', JSON.stringify(appState.users));
            
            // Record activity
            recordAdminActivity('user', `Added new user: ${name} (${role})`);
            
            // Close modal and reset form
            document.getElementById('addUserModal').style.display = 'none';
            document.getElementById('addUserForm').reset();
            
            // Refresh the users table
            loadAdminUsers();
            
            showSuccessNotification(`User "${name}" added successfully!`);
        }

        // Handle edit user
        function handleEditUser(e) {
            e.preventDefault();
            
            const id = parseInt(document.getElementById('editUserId').value);
            const name = document.getElementById('editUserName').value;
            const username = document.getElementById('editUserUsername').value;
            const email = document.getElementById('editUserEmail').value;
            const password = document.getElementById('editUserPassword').value;
            const role = document.getElementById('editUserRole').value;
            const status = document.getElementById('editUserStatus').value;
            
            // Find and update the user
            const userIndex = appState.users.findIndex(user => user.id === id);
            if (userIndex !== -1) {
                const oldUser = appState.users[userIndex];
                const updatedUser = {
                    ...appState.users[userIndex],
                    name,
                    username,
                    email,
                    type: role,
                    status
                };
                
                // Only update password if provided
                if (password) {
                    updatedUser.password = password;
                }
                
                appState.users[userIndex] = updatedUser;
                
                // Update localStorage
                localStorage.setItem('seafoodUsers', JSON.stringify(appState.users));
                
                // Record activity
                recordAdminActivity('user', `Updated user: ${name} (${role})`);
                
                // If editing current user, update currentUser in localStorage
                if (id === appState.currentUser.id) {
                    localStorage.setItem('currentUser', JSON.stringify(updatedUser));
                    appState.currentUser = updatedUser;
                    updateUserHeader(updatedUser);
                    updateWelcomeMessage(updatedUser);
                }
                
                // Close modal
                document.getElementById('editUserModal').style.display = 'none';
                
                // Refresh the users table
                loadAdminUsers();
                
                showSuccessNotification(`User "${name}" updated successfully!`);
            }
        }

        // Load analytics with real data
        function loadAnalytics() {
            try {
                // Load all necessary data from localStorage
                const orders = JSON.parse(localStorage.getItem('customerOrders')) || [];
                const users = JSON.parse(localStorage.getItem('seafoodUsers')) || [];
                const menuItems = JSON.parse(localStorage.getItem('menuItems')) || [];
                
                // Update stats cards with real data
                updateAnalyticsStats(orders, users, menuItems);
                
                // Load charts with real data
                loadTopItemsChart(orders, menuItems);
                loadOrdersChart(orders);
                loadRevenueChart(orders);
                loadUserRegistrationsChart(users);
                
            } catch (error) {
                console.error('Error loading analytics:', error);
            }
        }

        // Update analytics stats cards
        function updateAnalyticsStats(orders, users, menuItems) {
            // Calculate total revenue
            const totalRevenue = orders.reduce((sum, order) => sum + order.total, 0);
            
            // Count customers (non-admin users)
            const customerCount = users.filter(user => user.type === 'customer').length;
            
            // Count orders by status
            const pendingOrders = orders.filter(order => order.status === 'pending').length;
            const confirmedOrders = orders.filter(order => order.status === 'confirmed').length;
            const preparingOrders = orders.filter(order => order.status === 'preparing').length;
            const deliveryOrders = orders.filter(order => order.status === 'out-for-delivery').length;
            const deliveredOrders = orders.filter(order => order.status === 'delivered').length;
            const cancelledOrders = orders.filter(order => order.status === 'cancelled').length;
            
            // Update stats cards
            document.getElementById('totalOrders').textContent = orders.length;
            document.getElementById('totalRevenue').textContent = `${totalRevenue.toFixed(2)}`;
            document.getElementById('totalCustomers').textContent = customerCount;
            document.getElementById('totalMenuItems').textContent = menuItems.length;
            
            // Update order status breakdown
            document.getElementById('pendingOrders').textContent = pendingOrders;
            document.getElementById('confirmedOrders').textContent = confirmedOrders;
            document.getElementById('preparingOrders').textContent = preparingOrders;
            document.getElementById('deliveryOrders').textContent = deliveryOrders;
            document.getElementById('deliveredOrders').textContent = deliveredOrders;
            document.getElementById('cancelledOrders').textContent = cancelledOrders;
        }

        // Load top items chart with real data
        function loadTopItemsChart(orders, menuItems) {
            const topItemsCtx = document.getElementById('topItemsChart').getContext('2d');
            if (window.topItemsChart) {
                window.topItemsChart.destroy();
            }
            
            // Calculate item popularity from orders
            const itemCounts = {};
            orders.forEach(order => {
                order.items.forEach(item => {
                    if (itemCounts[item.name]) {
                        itemCounts[item.name] += item.quantity;
                    } else {
                        itemCounts[item.name] = item.quantity;
                    }
                });
            });
            
            // Sort items by popularity
            const sortedItems = Object.entries(itemCounts)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 5); // Top 5 items
            
            const topItemNames = sortedItems.map(item => item[0]);
            const topItemCounts = sortedItems.map(item => item[1]);
            
            window.topItemsChart = new Chart(topItemsCtx, {
                type: 'bar',
                data: {
                    labels: topItemNames,
                    datasets: [{
                        label: 'Orders',
                        data: topItemCounts,
                        backgroundColor: [
                            'rgba(0, 180, 216, 0.7)',
                            'rgba(255, 107, 107, 0.7)',
                            'rgba(255, 209, 102, 0.7)',
                            'rgba(144, 224, 239, 0.7)',
                            'rgba(244, 233, 205, 0.7)'
                        ],
                        borderColor: [
                            'rgba(0, 180, 216, 1)',
                            'rgba(255, 107, 107, 1)',
                            'rgba(255, 209, 102, 1)',
                            'rgba(144, 224, 239, 1)',
                            'rgba(244, 233, 205, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        }
                    }
                }
            });
        }

        // Load orders chart with real data
        function loadOrdersChart(orders) {
            const ordersCtx = document.getElementById('ordersChart').getContext('2d');
            if (window.ordersChart) {
                window.ordersChart.destroy();
            }
            
            // Count orders by status
            const orderStatus = {
                'pending': 0,
                'confirmed': 0,
                'preparing': 0,
                'out-for-delivery': 0,
                'delivered': 0,
                'cancelled': 0
            };
            
            orders.forEach(order => {
                if (orderStatus.hasOwnProperty(order.status)) {
                    orderStatus[order.status]++;
                }
            });
            
            // Convert to array for chart
            const statusLabels = Object.keys(orderStatus).map(key => 
                key.charAt(0).toUpperCase() + key.slice(1).replace('-', ' ')
            );
            const statusData = Object.values(orderStatus);
            
            window.ordersChart = new Chart(ordersCtx, {
                type: 'doughnut',
                data: {
                    labels: statusLabels,
                    datasets: [{
                        data: statusData,
                        backgroundColor: [
                            'rgba(255, 193, 7, 0.7)',
                            'rgba(0, 180, 216, 0.7)',
                            'rgba(147, 51, 234, 0.7)',
                            'rgba(249, 115, 22, 0.7)',
                            'rgba(34, 197, 94, 0.7)',
                            'rgba(108, 117, 125, 0.7)'
                        ],
                        borderColor: [
                            'rgba(255, 193, 7, 1)',
                            'rgba(0, 180, 216, 1)',
                            'rgba(147, 51, 234, 1)',
                            'rgba(249, 115, 22, 1)',
                            'rgba(34, 197, 94, 1)',
                            'rgba(108, 117, 125, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#caf0f8'
                            }
                        }
                    }
                }
            });
        }

        // Load revenue chart (new chart)
        function loadRevenueChart(orders) {
            // Check if revenue chart canvas exists, if not, we'll skip
            const revenueCtx = document.getElementById('revenueChart');
            if (!revenueCtx) return;
            
            const ctx = revenueCtx.getContext('2d');
            if (window.revenueChart) {
                window.revenueChart.destroy();
            }
            
            // Calculate revenue by day for the last 7 days
            const last7Days = [];
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                last7Days.push(date.toISOString().split('T')[0]);
            }
            
            const revenueByDay = last7Days.map(day => {
                const dayOrders = orders.filter(order => {
                    const orderDate = new Date(order.date).toISOString().split('T')[0];
                    return orderDate === day;
                });
                
                return dayOrders.reduce((sum, order) => sum + order.total, 0);
            });
            
            // Format dates for display
            const displayDates = last7Days.map(date => {
                const d = new Date(date);
                return `${d.getMonth()+1}/${d.getDate()}`;
            });
            
            window.revenueChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: displayDates,
                    datasets: [{
                        label: 'Daily Revenue ()',
                        data: revenueByDay,
                        borderColor: 'rgba(34, 197, 94, 1)',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#caf0f8'
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#caf0f8',
                                callback: function(value) {
                                    return '' + value.toLocaleString();
                                }
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        }
                    }
                }
            });
        }

        // Load user registrations chart (new chart)
        function loadUserRegistrationsChart(users) {
            // Check if user chart canvas exists, if not, we'll skip
            const userCtx = document.getElementById('userRegistrationsChart');
            if (!userCtx) return;
            
            const ctx = userCtx.getContext('2d');
            if (window.userChart) {
                window.userChart.destroy();
            }
            
            // Calculate user registrations by month for the last 6 months
            const last6Months = [];
            for (let i = 5; i >= 0; i--) {
                const date = new Date();
                date.setMonth(date.getMonth() - i);
                last6Months.push(`${date.getFullYear()}-${(date.getMonth()+1).toString().padStart(2, '0')}`);
            }
            
            const usersByMonth = last6Months.map(month => {
                return users.filter(user => {
                    if (!user.registrationDate) return false;
                    const regDate = new Date(user.registrationDate);
                    const regMonth = `${regDate.getFullYear()}-${(regDate.getMonth()+1).toString().padStart(2, '0')}`;
                    return regMonth === month;
                }).length;
            });
            
            // Format months for display
            const displayMonths = last6Months.map(month => {
                const [year, monthNum] = month.split('-');
                const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                return `${monthNames[parseInt(monthNum)-1]} ${year.slice(2)}`;
            });
            
            window.userChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: displayMonths,
                    datasets: [{
                        label: 'New Users',
                        data: usersByMonth,
                        backgroundColor: 'rgba(59, 130, 246, 0.7)',
                        borderColor: 'rgba(59, 130, 246, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        }
                    }
                }
            });
        }

        // Close modals when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                e.target.style.display = 'none';
            }
        });
        
        // Logout Confirmation Functions
        function showLogoutConfirmation() {
            const notification = document.getElementById('logoutNotification');
            notification.classList.add('show');
            
            // Add event listeners for the confirmation buttons
            document.getElementById('logoutConfirmBtn').onclick = function() {
                performLogout();
            };
            
            document.getElementById('logoutCancelBtn').onclick = function() {
                hideLogoutConfirmation();
            };
            
            // Close button functionality
            notification.querySelector('.notification-close').onclick = function() {
                hideLogoutConfirmation();
            };
            
            // Close when clicking outside the notification
            notification.onclick = function(e) {
                if (e.target === notification) {
                    hideLogoutConfirmation();
                }
            };
        }

        function hideLogoutConfirmation() {
            const notification = document.getElementById('logoutNotification');
            notification.classList.remove('show');
        }

        function performLogout() {
            localStorage.removeItem('currentUser');
            window.location.href = 'index.html';
        }
        
        // Load analytics with real data
        function loadAnalytics() {
            try {
                // Load all necessary data from localStorage
                const orders = JSON.parse(localStorage.getItem('customerOrders')) || [];
                const users = JSON.parse(localStorage.getItem('seafoodUsers')) || [];
                const menuItems = JSON.parse(localStorage.getItem('menuItems')) || [];
                
                // Update stats cards with real data
                updateAnalyticsStats(orders, users, menuItems);
                
                // Load all charts with real data
                loadTopItemsChart(orders, menuItems);
                loadOrdersChart(orders);
                loadRevenueChart(orders);
                loadUserRegistrationsChart(users);
                loadRevenueOverviewChart(orders);
                loadTopProductsChart(orders, menuItems);
                loadCustomerGrowthChart(users);
                
            } catch (error) {
                console.error('Error loading analytics:', error);
                // Load demo data if real data fails
                loadDemoCharts();
            }
        }

        // Update analytics stats cards
        function updateAnalyticsStats(orders, users, menuItems) {
            // Calculate total revenue
            const totalRevenue = orders.reduce((sum, order) => sum + order.total, 0);
            
            // Count customers (non-admin users)
            const customerCount = users.filter(user => user.type === 'customer').length;
            
            // Count orders by status
            const pendingOrders = orders.filter(order => order.status === 'pending').length;
            const confirmedOrders = orders.filter(order => order.status === 'confirmed').length;
            const preparingOrders = orders.filter(order => order.status === 'preparing').length;
            const deliveryOrders = orders.filter(order => order.status === 'out-for-delivery').length;
            const deliveredOrders = orders.filter(order => order.status === 'delivered').length;
            const cancelledOrders = orders.filter(order => order.status === 'cancelled').length;
            
            // Update stats cards
            document.getElementById('totalOrders').textContent = orders.length;
            document.getElementById('totalRevenue').textContent = `${totalRevenue.toFixed(2)}`;
            document.getElementById('totalCustomers').textContent = customerCount;
            document.getElementById('totalMenuItems').textContent = menuItems.length;
            
            // Update order status breakdown
            document.getElementById('pendingOrders').textContent = pendingOrders;
            document.getElementById('confirmedOrders').textContent = confirmedOrders;
            document.getElementById('preparingOrders').textContent = preparingOrders;
            document.getElementById('deliveryOrders').textContent = deliveryOrders;
            document.getElementById('deliveredOrders').textContent = deliveredOrders;
            document.getElementById('cancelledOrders').textContent = cancelledOrders;
        }

        // Load top items chart with real data
        function loadTopItemsChart(orders, menuItems) {
            const topItemsCtx = document.getElementById('topItemsChart');
            if (!topItemsCtx) {
                console.log('Top Items Chart canvas not found');
                return;
            }
            
            const ctx = topItemsCtx.getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.topItemsChartInstance) {
                window.topItemsChartInstance.destroy();
            }
            
            // Calculate item popularity from orders
            const itemCounts = {};
            orders.forEach(order => {
                order.items.forEach(item => {
                    if (itemCounts[item.name]) {
                        itemCounts[item.name] += item.quantity;
                    } else {
                        itemCounts[item.name] = item.quantity;
                    }
                });
            });
            
            // Sort items by popularity
            const sortedItems = Object.entries(itemCounts)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 5); // Top 5 items
            
            let topItemNames, topItemCounts;
            
            if (sortedItems.length > 0) {
                topItemNames = sortedItems.map(item => item[0]);
                topItemCounts = sortedItems.map(item => item[1]);
            } else {
                // Demo data if no orders
                topItemNames = ['Grilled Salmon', 'Baked Tahong', 'Calamares', 'Garlic Butter Clams', 'Sinigang na Hipon'];
                topItemCounts = [45, 38, 32, 28, 25];
            }
            
            window.topItemsChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: topItemNames,
                    datasets: [{
                        label: 'Orders',
                        data: topItemCounts,
                        backgroundColor: 'rgba(0, 180, 216, 0.7)',
                        borderColor: 'rgba(0, 180, 216, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        }
                    }
                }
            });
        }

        // Load orders chart with real data
        function loadOrdersChart(orders) {
            const ordersCtx = document.getElementById('ordersChart');
            if (!ordersCtx) {
                console.log('Orders Chart canvas not found');
                return;
            }
            
            const ctx = ordersCtx.getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.ordersChartInstance) {
                window.ordersChartInstance.destroy();
            }
            
            // Count orders by status
            const orderStatus = {
                'pending': orders.filter(order => order.status === 'pending').length,
                'confirmed': orders.filter(order => order.status === 'confirmed').length,
                'preparing': orders.filter(order => order.status === 'preparing').length,
                'out-for-delivery': orders.filter(order => order.status === 'out-for-delivery').length,
                'delivered': orders.filter(order => order.status === 'delivered').length,
                'cancelled': orders.filter(order => order.status === 'cancelled').length
            };
            
            // Convert to array for chart
            const statusLabels = Object.keys(orderStatus).map(key => 
                key.charAt(0).toUpperCase() + key.slice(1).replace('-', ' ')
            );
            const statusData = Object.values(orderStatus);
            
            window.ordersChartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: statusLabels,
                    datasets: [{
                        data: statusData,
                        backgroundColor: [
                            'rgba(255, 193, 7, 0.7)',
                            'rgba(0, 180, 216, 0.7)',
                            'rgba(147, 51, 234, 0.7)',
                            'rgba(249, 115, 22, 0.7)',
                            'rgba(34, 197, 94, 0.7)',
                            'rgba(108, 117, 125, 0.7)'
                        ],
                        borderColor: [
                            'rgba(255, 193, 7, 1)',
                            'rgba(0, 180, 216, 1)',
                            'rgba(147, 51, 234, 1)',
                            'rgba(249, 115, 22, 1)',
                            'rgba(34, 197, 94, 1)',
                            'rgba(108, 117, 125, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#caf0f8',
                                font: {
                                    size: 11
                                }
                            }
                        }
                    }
                }
            });
        }

        // Load revenue chart
        function loadRevenueChart(orders) {
            const revenueCtx = document.getElementById('revenueChart');
            if (!revenueCtx) {
                console.log('Revenue Chart canvas not found');
                return;
            }
            
            const ctx = revenueCtx.getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.revenueChartInstance) {
                window.revenueChartInstance.destroy();
            }
            
            // Calculate revenue by day for the last 7 days
            const last7Days = [];
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                last7Days.push(date.toISOString().split('T')[0]);
            }
            
            const revenueByDay = last7Days.map(day => {
                const dayOrders = orders.filter(order => {
                    const orderDate = new Date(order.date).toISOString().split('T')[0];
                    return orderDate === day;
                });
                return dayOrders.reduce((sum, order) => sum + order.total, 0);
            });
            
            // Format dates for display
            const displayDates = last7Days.map(date => {
                const d = new Date(date);
                return `${d.getMonth()+1}/${d.getDate()}`;
            });
            
            window.revenueChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: displayDates,
                    datasets: [{
                        label: 'Daily Revenue ()',
                        data: revenueByDay,
                        borderColor: 'rgba(34, 197, 94, 1)',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#caf0f8'
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#caf0f8',
                                callback: function(value) {
                                    return '' + value.toLocaleString();
                                }
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        }
                    }
                }
            });
        }

        // Load user registrations chart
        function loadUserRegistrationsChart(users) {
            const userCtx = document.getElementById('userRegistrationsChart');
            if (!userCtx) {
                console.log('User Registrations Chart canvas not found');
                return;
            }
            
            const ctx = userCtx.getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.userChartInstance) {
                window.userChartInstance.destroy();
            }
            
            // Calculate user registrations by month for the last 6 months
            const last6Months = [];
            for (let i = 5; i >= 0; i--) {
                const date = new Date();
                date.setMonth(date.getMonth() - i);
                last6Months.push(`${date.getFullYear()}-${(date.getMonth()+1).toString().padStart(2, '0')}`);
            }
            
            const usersByMonth = last6Months.map(month => {
                return users.filter(user => {
                    if (!user.registrationDate) return false;
                    const regDate = new Date(user.registrationDate);
                    const regMonth = `${regDate.getFullYear()}-${(regDate.getMonth()+1).toString().padStart(2, '0')}`;
                    return regMonth === month;
                }).length;
            });
            
            // Format months for display
            const displayMonths = last6Months.map(month => {
                const [year, monthNum] = month.split('-');
                const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                return `${monthNames[parseInt(monthNum)-1]} ${year.slice(2)}`;
            });
            
            window.userChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: displayMonths,
                    datasets: [{
                        label: 'New Users',
                        data: usersByMonth,
                        backgroundColor: 'rgba(59, 130, 246, 0.7)',
                        borderColor: 'rgba(59, 130, 246, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        }
                    }
                }
            });
        }

        // Load revenue overview chart
        function loadRevenueOverviewChart(orders) {
            const revenueOverviewCtx = document.getElementById('revenueOverviewChart');
            if (!revenueOverviewCtx) {
                console.log('Revenue Overview Chart canvas not found');
                return;
            }
            
            const ctx = revenueOverviewCtx.getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.revenueOverviewChartInstance) {
                window.revenueOverviewChartInstance.destroy();
            }
            
            // Calculate revenue by month for the last 6 months
            const last6Months = [];
            for (let i = 5; i >= 0; i--) {
                const date = new Date();
                date.setMonth(date.getMonth() - i);
                last6Months.push(`${date.getFullYear()}-${(date.getMonth()+1).toString().padStart(2, '0')}`);
            }
            
            const revenueByMonth = last6Months.map(month => {
                const monthOrders = orders.filter(order => {
                    const orderDate = new Date(order.date);
                    const orderMonth = `${orderDate.getFullYear()}-${(orderDate.getMonth()+1).toString().padStart(2, '0')}`;
                    return orderMonth === month;
                });
                return monthOrders.reduce((sum, order) => sum + order.total, 0);
            });
            
            // Format months for display
            const displayMonths = last6Months.map(month => {
                const [year, monthNum] = month.split('-');
                const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                return `${monthNames[parseInt(monthNum)-1]} ${year.slice(2)}`;
            });
            
            window.revenueOverviewChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: displayMonths,
                    datasets: [{
                        label: 'Monthly Revenue ()',
                        data: revenueByMonth,
                        borderColor: 'rgba(34, 197, 94, 1)',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#caf0f8',
                                callback: function(value) {
                                    return '' + value.toLocaleString();
                                }
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        }
                    }
                }
            });
        }

        // Load top products chart
        function loadTopProductsChart(orders, menuItems) {
            const topProductsCtx = document.getElementById('topProductsChart');
            if (!topProductsCtx) {
                console.log('Top Products Chart canvas not found');
                return;
            }
            
            const ctx = topProductsCtx.getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.topProductsChartInstance) {
                window.topProductsChartInstance.destroy();
            }
            
            // Calculate product revenue
            const productRevenue = {};
            orders.forEach(order => {
                order.items.forEach(item => {
                    if (productRevenue[item.name]) {
                        productRevenue[item.name] += item.price * item.quantity;
                    } else {
                        productRevenue[item.name] = item.price * item.quantity;
                    }
                });
            });
            
            // Sort products by revenue
            const sortedProducts = Object.entries(productRevenue)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 5); // Top 5 products by revenue
            
            let productNames, productRevenues;
            
            if (sortedProducts.length > 0) {
                productNames = sortedProducts.map(product => product[0]);
                productRevenues = sortedProducts.map(product => product[1]);
            } else {
                // Demo data if no orders
                productNames = ['Grilled Salmon', 'Baked Tahong', 'Calamares', 'Garlic Butter Clams', 'Sinigang na Hipon'];
                productRevenues = [15750, 10640, 6400, 7000, 6000];
            }
            
            window.topProductsChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: productNames,
                    datasets: [{
                        label: 'Revenue ()',
                        data: productRevenues,
                        backgroundColor: 'rgba(255, 107, 107, 0.7)',
                        borderColor: 'rgba(255, 107, 107, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#caf0f8',
                                callback: function(value) {
                                    return '' + value.toLocaleString();
                                }
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        }
                    }
                }
            });
        }

        // Load customer growth chart
        function loadCustomerGrowthChart(users) {
            const customerGrowthCtx = document.getElementById('customerGrowthChart');
            if (!customerGrowthCtx) {
                console.log('Customer Growth Chart canvas not found');
                return;
            }
            
            const ctx = customerGrowthCtx.getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.customerGrowthChartInstance) {
                window.customerGrowthChartInstance.destroy();
            }
            
            // Calculate cumulative customer growth
            const last6Months = [];
            for (let i = 5; i >= 0; i--) {
                const date = new Date();
                date.setMonth(date.getMonth() - i);
                last6Months.push(`${date.getFullYear()}-${(date.getMonth()+1).toString().padStart(2, '0')}`);
            }
            
            // Calculate cumulative customers by month
            let cumulativeCount = 0;
            const cumulativeCustomers = last6Months.map(month => {
                const monthCustomers = users.filter(user => {
                    if (!user.registrationDate) return false;
                    const regDate = new Date(user.registrationDate);
                    const regMonth = `${regDate.getFullYear()}-${(regDate.getMonth()+1).toString().padStart(2, '0')}`;
                    return regMonth <= month;
                }).length;
                
                cumulativeCount = Math.max(cumulativeCount, monthCustomers);
                return cumulativeCount;
            });
            
            // Format months for display
            const displayMonths = last6Months.map(month => {
                const [year, monthNum] = month.split('-');
                const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                return `${monthNames[parseInt(monthNum)-1]} ${year.slice(2)}`;
            });
            
            window.customerGrowthChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: displayMonths,
                    datasets: [{
                        label: 'Total Customers',
                        data: cumulativeCustomers,
                        borderColor: 'rgba(59, 130, 246, 1)',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#caf0f8'
                            },
                            grid: {
                                color: 'rgba(29, 78, 137, 0.5)'
                            }
                        }
                    }
                }
            });
        }

        // Demo charts fallback
        function loadDemoCharts() {
            console.log('Loading demo charts...');
            // This will use the existing demo data in your loadSalesOverview function
            loadSalesOverview();
        }   

        // Add to your existing JavaScript
// Improve touch interactions for mobile
document.addEventListener('DOMContentLoaded', function() {
    // Add touch feedback for buttons
    const buttons = document.querySelectorAll('.edit-menu-item, .delete-menu-item, .edit-user, .delete-user');
    
    buttons.forEach(button => {
        button.addEventListener('touchstart', function() {
            this.style.transform = 'scale(0.95)';
        });
        
        button.addEventListener('touchend', function() {
            this.style.transform = 'scale(1)';
        });
    });
    
    // Prevent zoom on form inputs in iOS
    const inputs = document.querySelectorAll('input, select, textarea');
    inputs.forEach(input => {
        input.addEventListener('touchstart', function() {
            this.style.fontSize = '16px'; // Prevent zoom
        });
    });
});
    </script>
</body>
</html>